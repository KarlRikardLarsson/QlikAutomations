{"blocks":[{"id":"EA791251-CAD3-465E-A1A8-4A78C5D250AE","type":"StartBlock","disabled":false,"name":"Start","displayName":"Start","comment":"","childId":"080C2932-4F7F-4F48-8C9C-3EFFFF6F87D4","inputs":[{"id":"run_mode","value":"manual","type":"select","structure":{}}],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":16,"y":-100},{"id":"BCC9EB1D-F735-4AAD-B12A-BB5FB6488597","type":"SnippetBlock","disabled":false,"name":"WaitForReloadsToComplete","displayName":"Qlik Cloud Services - Wait For Reloads To Complete","comment":"","childId":"72EB9D20-02D0-4047-A020-43D86378C4A8","inputs":[{"id":"c5b11a10-a743-11eb-9c1f-fd9f4e392fd8","value":"{implode: {$.ReloadIds}}","type":"string","structure":[]},{"id":"f3e87870-cabb-11ec-8c5c-470e1cb88478","value":null,"type":"select","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":922,"y":3423,"datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","snippet_guid":"7f2be360-6094-11eb-9152-8b25a846cfd6"},{"id":"81FFCC8A-483B-4A73-8964-599FBDB03777","type":"SnippetBlock","disabled":false,"name":"DoReload","displayName":"Qlik Cloud Services - Do Reload","comment":"Start reload, do not wait to complete","childId":"987B2154-FC7D-47ED-B152-777ED9BE5818","inputs":[{"id":"29603390-e716-11ea-9e37-05e08ee32111","value":"{ $.listApps3.item.id }","type":"string","structure":[]},{"id":"2ac9eef0-a677-11eb-aacc-8b755d0fe484","value":"Start reload and continue","type":"select","displayValue":"Start reload and continue","structure":[]},{"id":"6892c0c0-c795-11eb-9860-9dc8cb705e25","value":null,"type":"select","structure":[]},{"id":"ecebf340-c797-11eb-8671-53658babb1a1","value":null,"type":"select","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":256,"y":2740,"datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","snippet_guid":"b5dbb7a0-e715-11ea-b2bf-43bb35adee19"},{"id":"987B2154-FC7D-47ED-B152-777ED9BE5818","type":"VariableBlock","disabled":false,"name":"ReloadIds","displayName":"Variable - ReloadIds","comment":"Store reload id in ReloadIds","childId":"11E593C5-0B00-444C-AB88-A14E3F08FC78","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":284,"y":585,"variableGuid":"7CA79294-3788-44A7-857B-B0081DD279CC","operations":[{"id":"add_item","key":"F9E8F94F-9C22-4054-B18A-45444A94136D","name":"Add item to { variable }","value":"{$.DoReload.id}"}]},{"id":"080C2932-4F7F-4F48-8C9C-3EFFFF6F87D4","type":"EndpointBlock","disabled":false,"name":"getCurrentTenantInfo2","displayName":"Qlik Cloud Services - Get Current Tenant Info 2","comment":"Get tenant hostname for use in the output blocks","childId":"4AFE6BAB-EFA0-41D9-AF38-4BA39B865D37","inputs":[],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"cache","value":"0","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":617,"y":-29,"datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","endpoint_guid":"55051480-cb86-11ec-b746-892c1d04114e","endpoint_role":"get"},{"id":"B96BA1BC-0CCF-4B02-93D5-1044C2AB1772","type":"VariableBlock","disabled":false,"name":"Customer","displayName":"Variable - Customer","comment":"Customers - name. Used in email","childId":"876725C6-E310-4801-99A3-B4B9FC782B6E","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":16,"y":380,"variableGuid":"DE05588E-0B23-473B-85B9-DCF281E04B89","operations":[{"id":"set_value","key":"44937DF8-6310-4CFC-A011-5D5A3D1FA98E","name":"Set value of { variable }","value":"Qlikard AB"}]},{"id":"876725C6-E310-4801-99A3-B4B9FC782B6E","type":"VariableBlock","disabled":false,"name":"TimesRetry","displayName":"Variable - TimesRetry","comment":"Should reload retry after failed? Add how many retries here","childId":"063C26D0-AD87-4DCC-A1A7-296BB90EF78B","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":0,"y":240,"variableGuid":"2168E0A4-0CF7-4C80-903C-0480A2DFCEF8","operations":[{"id":"set_value","key":"02AEEC04-29B2-4CA8-A544-0DD16CFF3F16","name":"Set value of { variable }","value":"1"}]},{"id":"063C26D0-AD87-4DCC-A1A7-296BB90EF78B","type":"VariableBlock","disabled":false,"name":"MinutesUntilRety","displayName":"Variable - MinutesUntilRety","comment":"How many minutes to wait until retry if variable above is >0","childId":"51C513E6-F8A7-46C9-9CDD-DE136A1F73CF","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":250,"y":240,"variableGuid":"981AFBA2-F760-4A98-92F9-367B7F61F11F","operations":[{"id":"set_value","key":"A891E96F-CF58-433F-9413-138C665DB1AE","name":"Set value of { variable }","value":"5"}]},{"id":"51C513E6-F8A7-46C9-9CDD-DE136A1F73CF","type":"VariableBlock","disabled":false,"name":"tenantHostname","displayName":"Variable - tenantHostname","comment":"","childId":"77D3D9B8-6264-4F4B-B450-27AEC5BC0949","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":16,"y":740,"variableGuid":"BAAF963B-F49B-4C19-A800-F0FB6FBF8B31","operations":[{"id":"set_value","key":"98A567AC-27C8-49E4-9C54-FC30E3666BC8","name":"Set value of { variable }","value":"https://{ if: { $.getCurrentTenantInfo2.hostnames[1] } empty , $.getCurrentTenantInfo2.hostnames[0], $.getCurrentTenantInfo2.hostnames[1] }"}]},{"id":"77D3D9B8-6264-4F4B-B450-27AEC5BC0949","type":"ShowBlock","disabled":false,"name":"output6","displayName":"Output 6","comment":"","childId":"0F17F650-4A38-4A06-9A2F-9569C320CA90","inputs":[{"id":"input","value":"### **Reload Order Table (same step loads in parallel)** \n\n| Step| App| Space|\n|------|---------|------------------|","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":0,"y":960},{"id":"A25BFDEC-254E-44BB-9192-081C420EE51F","type":"ForEachBlock","disabled":false,"name":"loop2","displayName":"Loop 2","comment":"","childId":"147550F7-1D0F-4507-BDDF-54C402A3D34D","inputs":[{"id":"input","value":"{ $.SpaceIDs }","type":"string","structure":[]}],"settings":[{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":12,"y":1998,"loopBlockId":"A4DBD006-BBF1-4DBA-BB2D-53CF592783E8"},{"id":"7942FCD5-B4FD-4B68-9058-9E644302043B","type":"VariableBlock","disabled":false,"name":"iter2","displayName":"Variable - iter2","comment":"Reset itr","childId":"A3C30ABF-D883-414C-A660-5995BC06C364","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":16,"y":4380,"variableGuid":"042650A8-9196-4AC3-BB92-6A42E4CD26D1","operations":[{"id":"set_value","key":"C9D7EA71-8132-4248-B5C8-1580CE12FB6E","name":"Set value of { variable }","value":"0"}]},{"id":"A3C30ABF-D883-414C-A660-5995BC06C364","type":"ShowBlock","disabled":false,"name":"output7","displayName":"Output 7","comment":"","childId":"A25BFDEC-254E-44BB-9192-081C420EE51F","inputs":[{"id":"input","value":"--- \n\n **Starting to reload apps...**\n\n| Target app ID | Target app name | Target app space ID | Target app result | Logs |\n| -- | -- | -- | -- | -- |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":376,"y":2260},{"id":"147550F7-1D0F-4507-BDDF-54C402A3D34D","type":"VariableBlock","disabled":false,"name":"reloadMessage","displayName":"Variable - reloadMessage","comment":"","childId":"BEEDAE53-3588-49AB-B24A-0D1CC4803A6C","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":136,"y":7540,"variableGuid":"267D138A-AF61-487D-BAFD-386F38F8F675","operations":[{"id":"set_value","key":"FCE6032E-1A3A-4519-822C-AEB699AD2D4A","name":"Set value of { variable }","value":"Reloads: {$.iter2} ({$.iterReloadsTriggered} successful,  {$.iterReloadsFailed} failed)"}]},{"id":"BEEDAE53-3588-49AB-B24A-0D1CC4803A6C","type":"UpdateJobBlock","disabled":false,"name":"updateRunTitle5","displayName":"Update Run Title 5","comment":"","childId":"0BF09FA2-526F-42C3-B378-5BB41D3335C3","inputs":[{"id":"title","value":"{$.reloadMessage}","type":"string","structure":[]}],"settings":[{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":0,"y":8660},{"id":"0BF09FA2-526F-42C3-B378-5BB41D3335C3","type":"EndpointBlock","disabled":false,"name":"listAutomations","displayName":"Qlik Cloud Services - List Automations","comment":"Finding status of previous run","childId":"C58A6788-6AE8-4BA5-A308-9FFDC92C72F1","inputs":[{"id":"4da7b650-cc5c-11ec-b5fd-57c6cdbb55e5","value":null,"type":"string","structure":[]},{"id":"a3c3eb00-cc65-11ec-b047-91d50a3080e1","value":"name co \"{automationname}\"","type":"string","structure":[]}],"settings":[{"id":"maxitemcount","value":"","type":"string","structure":[]},{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"cache","value":"0","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":true}],"x":0,"y":5200,"loopBlockId":null,"datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","endpoint_guid":"4d780290-cc5c-11ec-aefa-6169dde43f42","endpoint_role":"list"},{"id":"C58A6788-6AE8-4BA5-A308-9FFDC92C72F1","type":"IfElseBlock","disabled":false,"name":"condition12","displayName":"Condition 12","comment":"Recovered email if previous automation failed","childId":null,"inputs":[{"id":"conditions","value":{"mode":"some","conditions":[{"input1":"{$.listAutomations[0].lastRunStatus}","input2":"failed","operator":"="}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"both","isCollapsed":false},{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":false}],"x":0,"y":1700,"childTrueId":"A461530E-DE44-42AD-9A50-48F432FDCE78","childFalseId":null},{"id":"A461530E-DE44-42AD-9A50-48F432FDCE78","type":"EndpointBlock","disabled":true,"name":"SendMail7","displayName":"Mail - Send Mail 7","comment":"","childId":null,"inputs":[{"id":"442845a0-cd00-11eb-9aa5-b966a68573b7","value":"support@exsitec.se","type":"string","structure":[]},{"id":"543f08c0-cd00-11eb-b9c6-af8e23cc2439","value":null,"type":"string","structure":[]},{"id":"5cbdb1d0-cd00-11eb-8afd-ddd4ecc002ac","value":null,"type":"string","structure":[]},{"id":"72cad1e0-cd00-11eb-aa1b-3f42c1d22e38","value":"{$.Customer} - {automationname} - Recovered","type":"string","structure":[]},{"id":"79af8c50-cd24-11eb-a019-dfdc9a7f7317","value":"8ca918e0-cd24-11eb-a713-779c5b59e5f7","type":"select","displayValue":"text","structure":[]},{"id":"7d225d00-cd00-11eb-8493-055760e8b45a","value":"{automationname} has had a successful reload since last failure.","type":"longtext","structure":[]},{"id":"bb841f10-3341-11ec-b9a3-9d6de0bb7866","value":null,"type":"custom","structure":[]}],"settings":[{"id":"datasource","value":null,"type":"select","structure":[]},{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":240,"y":3300,"datasourcetype_guid":"05407a80-ccfd-11eb-b098-7140f6ac27f4","endpoint_guid":"84a79bf0-ccff-11eb-a508-7d415a725ea7","endpoint_role":"create"},{"id":"923765F5-7F51-4348-9353-2735DF593DC3","type":"EndpointBlock","disabled":false,"name":"rawAPIRequest3","displayName":"Qlik Cloud Services - Raw API Request 3","comment":"Retrieve the app information by fetching the item ","childId":"BADF7C9B-DD96-4E5C-B932-B27FAB957CB6","inputs":[{"id":"4add8960-2078-11ec-be2c-7fc55d771fe6","value":"items","type":"string","structure":[]},{"id":"3b992a40-2072-11ec-9f0e-ed01586a7e1b","value":"3ba1eed0-2072-11ec-aa67-f118ee53373a","type":"select","displayValue":"GET","structure":[]},{"id":"3b8b9090-2072-11ec-8c77-5195fbb0ca65","value":[],"type":"object","mode":"keyValue","structure":[]},{"id":"993585d0-2839-11ec-b431-df4deed6c1ae","value":[{"key":"resourceId","value":"{ $.listApps3.item.id }"},{"key":"resourceType","value":"app"}],"type":"object","mode":"keyValue","structure":[]}],"settings":[{"id":"blendr_on_error","value":"warning","type":"select","displayValue":"Warning - Continue Automation and report errors","structure":[]},{"id":"cache","value":"0","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":256,"y":2060,"datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","endpoint_guid":"3b75dd80-2072-11ec-9043-3b2aff6123af","endpoint_role":"get"},{"id":"BADF7C9B-DD96-4E5C-B932-B27FAB957CB6","type":"EndpointBlock","disabled":false,"name":"getSpace2","displayName":"Qlik Cloud Services - Get Space 2","comment":"","childId":"81FFCC8A-483B-4A73-8964-599FBDB03777","inputs":[{"id":"92f7bcd0-6d2d-11eb-9088-69419de8f253","value":"{ $.rawAPIRequest3.data[0].spaceId }","type":"string","structure":[]}],"settings":[{"id":"blendr_on_error","value":"warning","type":"select","displayValue":"Warning - Continue Automation and report errors","structure":[]},{"id":"cache","value":"0","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":256,"y":2180,"datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","endpoint_guid":"92afefd0-6d2d-11eb-aee2-055653605a8e","endpoint_role":"get"},{"id":"622CB73A-AC25-4205-A320-8E6B9DE37CE2","type":"IfElseBlock","disabled":false,"name":"condition3","displayName":"Condition 3","comment":"Was reload succesful?","childId":null,"inputs":[{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"{ $.loop6.item.status }","input2":"SUCCEEDED","operator":"="}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"both","isCollapsed":false},{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":false}],"x":544,"y":2971,"childTrueId":"66A20C88-654C-4318-9084-B09CD6126AED","childFalseId":"43FBB3F1-420C-40DD-BE58-3360F589C6A2"},{"id":"66A20C88-654C-4318-9084-B09CD6126AED","type":"VariableBlock","disabled":false,"name":"iterReloadsTriggered","displayName":"Variable - iterReloadsTriggered","comment":"","childId":"087B845C-CD4F-43E3-835C-B790D34AA865","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":783,"y":4281,"variableGuid":"747C6884-3FD9-4F6D-BBB8-09B5D83E3B3A","operations":[{"id":"add","key":"6CE46F3B-F418-4A41-97FD-00DD5FA7FB29","name":"Add to { variable }","value":"1"}]},{"id":"087B845C-CD4F-43E3-835C-B790D34AA865","type":"ShowBlock","disabled":false,"name":"output14","displayName":"Output 14","comment":"","childId":null,"inputs":[{"id":"input","value":"| [{$.loop6.item.appId}]({$.tenantHostname}/sense/app/{$.loop6.item.appId}/overview) | {$.rawAPIRequest2.data[0].name} | [{$.getSpace3.name}]({$.tenantHostname}/catalog?space_filter={$.rawAPIRequest2.data[0].spaceId}) | [{$.loop6.item.status}]({$.tenantHostname}/item/{$.rawAPIRequest2.data[0].id}/history) | [LOGS]({$.tenantHostname}/api/v1/apps/{$.loop6.item.appId}/reloads/logs/{ $.loop6.item.id }) |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":577,"y":3149},{"id":"43FBB3F1-420C-40DD-BE58-3360F589C6A2","type":"IfElseBlock","disabled":false,"name":"condition","displayName":"Condition","comment":"Retries?","childId":null,"inputs":[{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"{ $.TimesRetry }","input2":"0","operator":">"}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"both","isCollapsed":false},{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":false}],"x":663,"y":3301,"childTrueId":"C2DB351E-B9F4-4E4B-9D40-F11DFCBB55CD","childFalseId":"7DA79881-E239-4BB2-8B74-2BF409C491A9"},{"id":"C2DB351E-B9F4-4E4B-9D40-F11DFCBB55CD","type":"CustomCodeBlock3","disabled":false,"name":"customCode","displayName":"Custom Code","comment":"","childId":"7497D6FB-9816-4580-91B6-36B5C3B624CB","inputs":[{"id":"language","value":"python","type":"select","displayValue":"Python 3.11","structure":[]},{"id":"inputs","value":[{"key":"Loops","value":"{ $.TimesRetry }"}],"type":"object","mode":"keyValue","structure":[]},{"id":"code","value":"n = inputs['Loops']\n \n# Create a list from 1 to n\nnum_list = list(range(1, n + 1))  \n\n# Output the list\nprint(num_list)","type":"code","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":360,"y":3600},{"id":"7497D6FB-9816-4580-91B6-36B5C3B624CB","type":"VariableBlock","disabled":false,"name":"iterReloadsFailed","displayName":"Variable - iterReloadsFailed","comment":"","childId":"DCB7E299-4B62-44D5-94BD-4281D10AD110","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":747,"y":3759,"variableGuid":"EAABB3C5-8B6C-4705-A9C0-34C41437D928","operations":[{"id":"add","key":"6CE46F3B-F418-4A41-97FD-00DD5FA7FB29","name":"Add to { variable }","value":"1"}]},{"id":"DCB7E299-4B62-44D5-94BD-4281D10AD110","type":"ShowBlock","disabled":false,"name":"output15","displayName":"Output 15","comment":"","childId":"7D4A36A7-FF89-46A9-9CAA-EEA7E9C98853","inputs":[{"id":"input","value":"| [{$.loop6.item.appId}]({$.tenantHostname}/sense/app/{$.loop6.item.appId}/overview) | {$.rawAPIRequest2.data[0].name} | [{$.getSpace3.name}]({$.tenantHostname}/catalog?space_filter={$.rawAPIRequest2.data[0].spaceId}) | [{ $.loop6.item.status }]({$.tenantHostname}/item/{$.rawAPIRequest2.data[0].id}/history) Retrying in {multiply: { $.MinutesUntilRety }, 60} seconds...  | [LOGS]({$.tenantHostname}/api/v1/apps/{$.loop6.item.appId}/reloads/logs/{$.loop6.item.id}) |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":480,"y":3960},{"id":"7D4A36A7-FF89-46A9-9CAA-EEA7E9C98853","type":"ForEachBlock","disabled":false,"name":"loop","displayName":"Loop","comment":"","childId":null,"inputs":[{"id":"input","value":"{ $.customCode }","type":"string","structure":[]}],"settings":[{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":-301,"y":3438,"loopBlockId":"30125119-76DF-4A4E-B31B-615B16954DEE"},{"id":"30125119-76DF-4A4E-B31B-615B16954DEE","type":"VariableBlock","disabled":false,"name":"iter2","displayName":"Variable - iter2","comment":"","childId":"E2BC66F6-BC1A-4201-A635-EDD8D7C5E161","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":600,"y":4660,"variableGuid":"042650A8-9196-4AC3-BB92-6A42E4CD26D1","operations":[{"id":"add","key":"F4B8AB11-C6B5-48D2-9637-36D77A79F972","name":"Add to { variable }","value":"1"}]},{"id":"E2BC66F6-BC1A-4201-A635-EDD8D7C5E161","type":"VariableBlock","disabled":false,"name":"LoopItr","displayName":"Variable - LoopItr","comment":"","childId":"FB7ED2F0-378B-4937-81C2-C73CD4DAFB75","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":815,"y":4235,"variableGuid":"F7AF9767-9629-476E-BFAD-B18B229F8F1D","operations":[{"id":"add","key":"3FA7D930-C3F7-4168-8BE8-2DD97494C809","name":"Add to { variable }","value":"1"}]},{"id":"FB7ED2F0-378B-4937-81C2-C73CD4DAFB75","type":"SleepBlock","disabled":false,"name":"sleep","displayName":"Sleep","comment":"","childId":"7BB41B3A-F1F3-47E0-8FFD-415BC9950C12","inputs":[{"id":"time","value":"{ multiply: { $.MinutesUntilRety }, 60 }","type":"string","structure":[]}],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":600,"y":4420},{"id":"7BB41B3A-F1F3-47E0-8FFD-415BC9950C12","type":"SnippetBlock","disabled":false,"name":"DoReload3","displayName":"Qlik Cloud Services - Do Reload 3","comment":"Attempt the reload","childId":"BD4FC94F-6253-4CE8-A783-F4F0C3962D9F","inputs":[{"id":"29603390-e716-11ea-9e37-05e08ee32111","value":"{ $.loop6.item.appId }","type":"string","structure":[]},{"id":"2ac9eef0-a677-11eb-aacc-8b755d0fe484","value":"Wait for reload to complete","type":"select","displayValue":"Wait for reload to complete","structure":[]},{"id":"6892c0c0-c795-11eb-9860-9dc8cb705e25","value":null,"type":"select","structure":[]},{"id":"ecebf340-c797-11eb-8671-53658babb1a1","value":null,"type":"select","structure":[]}],"settings":[{"id":"blendr_on_error","value":"warning","type":"select","displayValue":"Warning - Continue Automation and report errors","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":616,"y":4540,"datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","snippet_guid":"b5dbb7a0-e715-11ea-b2bf-43bb35adee19"},{"id":"BD4FC94F-6253-4CE8-A783-F4F0C3962D9F","type":"IfElseBlock","disabled":false,"name":"condition4","displayName":"Condition 4","comment":"Was reload succesful?","childId":null,"inputs":[{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"{$.DoReload3.status}","input2":"SUCCEEDED","operator":"="}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"both","isCollapsed":false},{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":false}],"x":616,"y":4660,"childTrueId":"12A22041-12FD-477E-A61F-703A80D0B552","childFalseId":"8B903735-B110-4528-A495-00BCC89F2AFD"},{"id":"12A22041-12FD-477E-A61F-703A80D0B552","type":"VariableBlock","disabled":false,"name":"iterReloadsTriggered","displayName":"Variable - iterReloadsTriggered","comment":"","childId":"60A8AAA7-E5ED-4EC3-955B-4F07BA471D2F","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":948,"y":4588,"variableGuid":"747C6884-3FD9-4F6D-BBB8-09B5D83E3B3A","operations":[{"id":"add","key":"6CE46F3B-F418-4A41-97FD-00DD5FA7FB29","name":"Add to { variable }","value":"1"}]},{"id":"60A8AAA7-E5ED-4EC3-955B-4F07BA471D2F","type":"ShowBlock","disabled":false,"name":"output12","displayName":"Output 12","comment":"","childId":"E4C63E45-4889-4B76-966F-F492C992E54F","inputs":[{"id":"input","value":"| [{$.loop6.item.appId}]({$.tenantHostname}/sense/app/{$.loop6.item.appId}/overview) | {$.rawAPIRequest2.data[0].name} | [{$.getSpace3.name}]({$.tenantHostname}/catalog?space_filter={$.rawAPIRequest2.data[0].spaceId}) | Retry {$.LoopItr}: [{$.DoReload3.status}]({$.tenantHostname}/item/{$.rawAPIRequest2.data[0].id}/history) | [LOGS]({$.tenantHostname}/api/v1/apps/{$.loop6.item.appId}/reloads/logs/{$.DoReload3.id}) |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":600,"y":4780},{"id":"E4C63E45-4889-4B76-966F-F492C992E54F","type":"ForEachBreakBlock","disabled":false,"name":"exitLoop","displayName":"Exit Loop","comment":"","childId":null,"inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":-306,"y":4534},{"id":"8B903735-B110-4528-A495-00BCC89F2AFD","type":"IfElseBlock","disabled":false,"name":"condition5","displayName":"Condition 5","comment":"","childId":null,"inputs":[{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"{ $.LoopItr }","input2":"{ count: { $.customCode } }","operator":"="}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"both","isCollapsed":false},{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":false}],"x":720,"y":5140,"childTrueId":"B17EBDC6-FDE9-4C7D-AA58-34299C182FB6","childFalseId":"FD01906E-A6AE-4A23-85B3-B582B801F57C"},{"id":"B17EBDC6-FDE9-4C7D-AA58-34299C182FB6","type":"EndpointBlock","disabled":true,"name":"SendMail3","displayName":"Mail - Send Mail 3","comment":"","childId":"414DE924-EAA2-4087-8B2C-621F9FB6E5BC","inputs":[{"id":"442845a0-cd00-11eb-9aa5-b966a68573b7","value":"Rikard.larsson@exsitec.se","type":"string","structure":[]},{"id":"543f08c0-cd00-11eb-b9c6-af8e23cc2439","value":null,"type":"string","structure":[]},{"id":"5cbdb1d0-cd00-11eb-8afd-ddd4ecc002ac","value":null,"type":"string","structure":[]},{"id":"72cad1e0-cd00-11eb-aa1b-3f42c1d22e38","value":"{$.Customer} - {automationname} - Failed","type":"string","structure":[]},{"id":"79af8c50-cd24-11eb-a019-dfdc9a7f7317","value":"90ff46f0-cd24-11eb-bda1-0f1c7c213bfb","type":"select","displayValue":"html","structure":[]},{"id":"7d225d00-cd00-11eb-8493-055760e8b45a","value":"<div style=\"padding: 10px; border: 1px solid #f44336; background-color: #ffdddd;\">\n\n<h2 style=\"margin: 0; color: #d32f2f;\">Link to app:</h2>\n<p><a href=\"{$.tenantHostname}/item/{$.rawAPIRequest2.data[0].id}/history\" style=\"font-weight: bold; color: #d32f2f;\"> {$.DoReload3.status} </a></p>\n\n<h2 style=\"margin: 0; color: #d32f2f;\">Error Code:</h2>\n<p>{$.DoReload3.errorCode}</p>\n\n<h2 style=\"margin: 0; color: #d32f2f;\">Error Message:</h2>\n<p>{$.DoReload3.errorMessage}</p>\n<strong>Log:</strong>\n<p>{$.DoReload3.log}</p>\n</div>","type":"longtext","structure":[]},{"id":"bb841f10-3341-11ec-b9a3-9d6de0bb7866","value":null,"type":"custom","structure":[]}],"settings":[{"id":"datasource","value":"5e54edf2-ef84-45e3-b974-8accc444758d","type":"select","structure":[]},{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":1010,"y":5104,"datasourcetype_guid":"05407a80-ccfd-11eb-b098-7140f6ac27f4","endpoint_guid":"84a79bf0-ccff-11eb-a508-7d415a725ea7","endpoint_role":"create"},{"id":"414DE924-EAA2-4087-8B2C-621F9FB6E5BC","type":"VariableBlock","disabled":false,"name":"iterReloadsFailed","displayName":"Variable - iterReloadsFailed","comment":"","childId":"D5A9CE74-4A95-4027-8226-2F723717CD45","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":600,"y":2620,"variableGuid":"EAABB3C5-8B6C-4705-A9C0-34C41437D928","operations":[{"id":"add","key":"6CE46F3B-F418-4A41-97FD-00DD5FA7FB29","name":"Add to { variable }","value":"1"}]},{"id":"D5A9CE74-4A95-4027-8226-2F723717CD45","type":"VariableBlock","disabled":false,"name":"reloadMessage","displayName":"Variable - reloadMessage","comment":"","childId":"834212F2-8C9E-43B1-AA9B-2C032B4C3A32","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":549,"y":3463,"variableGuid":"267D138A-AF61-487D-BAFD-386F38F8F675","operations":[{"id":"set_value","key":"FCE6032E-1A3A-4519-822C-AEB699AD2D4A","name":"Set value of { variable }","value":"Reloads: {$.iter2} ({$.iterReloadsTriggered} successful, {$.iterReloadsFailed} failed)"}]},{"id":"834212F2-8C9E-43B1-AA9B-2C032B4C3A32","type":"UpdateJobBlock","disabled":false,"name":"updateRunTitle6","displayName":"Update Run Title 6","comment":"","childId":"60725992-8289-4C64-B9B4-7C156EEF5E32","inputs":[{"id":"title","value":"{$.reloadMessage}","type":"string","structure":[]}],"settings":[{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":840,"y":5700},{"id":"60725992-8289-4C64-B9B4-7C156EEF5E32","type":"ShowBlock","disabled":false,"name":"output8","displayName":"Output 8","comment":"","childId":"C01561AC-06E2-4303-94A0-21E4FFC457D5","inputs":[{"id":"input","value":"| [{$.loop6.item.appId}]({$.tenantHostname}/sense/app/{$.loop6.item.appId}/overview) | {$.rawAPIRequest2.data[0].name} | [{$.getSpace3.name}]({$.tenantHostname}/catalog?space_filter={$.rawAPIRequest2.data[0].spaceId}) | Retry {$.LoopItr}: [{$.DoReload3.status}]({$.tenantHostname}/item/{$.rawAPIRequest2.data[0].id}/history) | [LOGS]({$.tenantHostname}/api/v1/apps/{$.loop6.item.appId}/reloads/logs/{$.DoReload3.id}) |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":240,"y":4040},{"id":"C01561AC-06E2-4303-94A0-21E4FFC457D5","type":"ErrorBlock","disabled":false,"name":"error2","displayName":"Error 2","comment":"","childId":null,"inputs":[{"id":"message","value":"Reload failed... Stopping automation","type":"string","structure":[]},{"id":"action","value":"stop","type":"select","structure":[]}],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":-340,"y":3543},{"id":"FD01906E-A6AE-4A23-85B3-B582B801F57C","type":"VariableBlock","disabled":false,"name":"iterReloadsFailed","displayName":"Variable - iterReloadsFailed","comment":"","childId":"723BFBC2-8867-4930-A649-B9926903027F","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":720,"y":5380,"variableGuid":"EAABB3C5-8B6C-4705-A9C0-34C41437D928","operations":[{"id":"add","key":"6CE46F3B-F418-4A41-97FD-00DD5FA7FB29","name":"Add to { variable }","value":"1"}]},{"id":"723BFBC2-8867-4930-A649-B9926903027F","type":"ShowBlock","disabled":false,"name":"output9","displayName":"Output 9","comment":"","childId":null,"inputs":[{"id":"input","value":"| [{$.loop6.item.appId}]({$.tenantHostname}/sense/app/{$.loop6.item.appId}/overview) | {$.rawAPIRequest2.data[0].name} | [{$.getSpace3.name}]({$.tenantHostname}/catalog?space_filter={$.rawAPIRequest2.data[0].spaceId}) | Retry {$.LoopItr}: [{$.DoReload3.status}]({$.tenantHostname}/item/{$.rawAPIRequest2.data[0].id}/history) | [LOGS]({$.tenantHostname}/api/v1/apps/{$.loop6.item.appId}/reloads/logs/{$.DoReload3.id}) |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":850,"y":5164},{"id":"7DA79881-E239-4BB2-8B74-2BF409C491A9","type":"EndpointBlock","disabled":true,"name":"SendMail","displayName":"Mail - Send Mail","comment":"","childId":"01FB8FC4-2CA2-4F88-B201-550258DC92A7","inputs":[{"id":"442845a0-cd00-11eb-9aa5-b966a68573b7","value":"support@exsitec.se","type":"string","structure":[]},{"id":"543f08c0-cd00-11eb-b9c6-af8e23cc2439","value":null,"type":"string","structure":[]},{"id":"5cbdb1d0-cd00-11eb-8afd-ddd4ecc002ac","value":null,"type":"string","structure":[]},{"id":"72cad1e0-cd00-11eb-aa1b-3f42c1d22e38","value":"{$.Customer} - {automationname} - Failed","type":"string","structure":[]},{"id":"79af8c50-cd24-11eb-a019-dfdc9a7f7317","value":"90ff46f0-cd24-11eb-bda1-0f1c7c213bfb","type":"select","displayValue":"html","structure":[]},{"id":"7d225d00-cd00-11eb-8493-055760e8b45a","value":"<div style=\"padding: 10px; border: 1px solid #f44336; background-color: #ffdddd;\">\n<h2 style=\"margin: 0; color: #d32f2f;\">Link to app:</h2>\n<p><a href=\"{$.tenantHostname}/item/{$.rawAPIRequest2.data[0].id}/history\" style=\"font-weight: bold; color: #d32f2f;\"> { $.WaitForReloadsToComplete[0].status } </a></p>\n\n<h2 style=\"margin: 0; color: #d32f2f;\">Error Code:</h2>\n<p>{$.WaitForReloadsToComplete[0].status}</p>\n\n<h2 style=\"margin: 0; color: #d32f2f;\">Error Message:</h2>\n<p>{$.WaitForReloadsToComplete[0].status}</p>\n<strong>Log:</strong>\n<p>{$.WaitForReloadsToComplete[0].log}</p>\n</div>","type":"longtext","structure":[]},{"id":"bb841f10-3341-11ec-b9a3-9d6de0bb7866","value":null,"type":"custom","structure":[]}],"settings":[{"id":"datasource","value":"5e54edf2-ef84-45e3-b974-8accc444758d","type":"select","structure":[]},{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":360,"y":4660,"datasourcetype_guid":"05407a80-ccfd-11eb-b098-7140f6ac27f4","endpoint_guid":"84a79bf0-ccff-11eb-a508-7d415a725ea7","endpoint_role":"create"},{"id":"01FB8FC4-2CA2-4F88-B201-550258DC92A7","type":"VariableBlock","disabled":false,"name":"iterReloadsFailed","displayName":"Variable - iterReloadsFailed","comment":"","childId":"FA2DC7F4-F9AD-4B0C-B9E1-D45E4DB026D9","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":600,"y":2620,"variableGuid":"EAABB3C5-8B6C-4705-A9C0-34C41437D928","operations":[{"id":"add","key":"6CE46F3B-F418-4A41-97FD-00DD5FA7FB29","name":"Add to { variable }","value":"1"}]},{"id":"FA2DC7F4-F9AD-4B0C-B9E1-D45E4DB026D9","type":"VariableBlock","disabled":false,"name":"reloadMessage","displayName":"Variable - reloadMessage","comment":"","childId":"4EEE788A-9181-4B40-893B-14BF2B431066","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":549,"y":3463,"variableGuid":"267D138A-AF61-487D-BAFD-386F38F8F675","operations":[{"id":"set_value","key":"FCE6032E-1A3A-4519-822C-AEB699AD2D4A","name":"Set value of { variable }","value":"Reloads: {$.iter2} ({$.iterReloadsTriggered} successful,  {$.iterReloadsFailed} failed)"}]},{"id":"4EEE788A-9181-4B40-893B-14BF2B431066","type":"UpdateJobBlock","disabled":false,"name":"updateRunTitle4","displayName":"Update Run Title 4","comment":"","childId":"E62B40DC-6E69-44AA-8BE2-3F02B7519460","inputs":[{"id":"title","value":"{$.reloadMessage}","type":"string","structure":[]}],"settings":[{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":480,"y":7500},{"id":"E62B40DC-6E69-44AA-8BE2-3F02B7519460","type":"ShowBlock","disabled":false,"name":"output2","displayName":"Output 2","comment":"","childId":"A3031945-DD3F-4779-BEFE-B20B3EC9E965","inputs":[{"id":"input","value":"| [{$.loop6.item.appId}]({$.tenantHostname}/sense/app/{$.loop6.item.appId}/overview) | {$.rawAPIRequest2.data[0].name} | [{$.getSpace3.name}]({$.tenantHostname}/catalog?space_filter={$.rawAPIRequest2.data[0].spaceId}) | [{$.WaitForReloadsToComplete[0].status}]({$.tenantHostname}/item/{$.rawAPIRequest2.data[0].id}/history) | [LOGS]({$.tenantHostname}/api/v1/apps/{$.loop6.item.appId}/reloads/logs/{ $.loop6.item.id }) |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":240,"y":4040},{"id":"A3031945-DD3F-4779-BEFE-B20B3EC9E965","type":"ErrorBlock","disabled":false,"name":"error","displayName":"Error","comment":"","childId":null,"inputs":[{"id":"message","value":"Reload failed... Stopping automation","type":"string","structure":[]},{"id":"action","value":"stop","type":"select","structure":[]}],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":-340,"y":3543},{"id":"4AFE6BAB-EFA0-41D9-AF38-4BA39B865D37","type":"VariableBlock","disabled":false,"name":"SpaceIDs","displayName":"Variable - SpaceIDs","comment":"Loop through each space id and reloads each space in parallel.","childId":"B96BA1BC-0CCF-4B02-93D5-1044C2AB1772","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":648,"y":309,"variableGuid":"548E2472-6330-424A-8EE6-E9BB69A9B240","operations":[{"id":"add_item","key":"7D19EA48-0A49-416C-9A1A-33AA22B32039","name":"Add item to { variable }","value":"67a5f0724db962d89bc241d3"},{"id":"add_item","key":"93CA17A5-27F9-41DC-A878-4D1AA8CB838A","name":"Add item to { variable }","value":"67a5f08f35b422012d62397f"}]},{"id":"A4DBD006-BBF1-4DBA-BB2D-53CF592783E8","type":"EndpointBlock","disabled":false,"name":"listApps3","displayName":"Qlik Cloud Services - List Apps 3","comment":"","childId":"BCC9EB1D-F735-4AAD-B12A-BB5FB6488597","inputs":[{"id":"8cd8db50-107b-11ec-8082-edc45dd151ef","value":"8cde3d40-107b-11ec-98de-39d96a8971e1","type":"select","displayValue":"+name","structure":[]},{"id":"8ce4fad0-107b-11ec-a6ac-2bd407ad134b","value":"{ $.loop2.item }","type":"string","structure":[]}],"settings":[{"id":"maxitemcount","value":"","type":"string","structure":[]},{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"cache","value":"0","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":136,"y":1080,"loopBlockId":"923765F5-7F51-4348-9353-2735DF593DC3","datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","endpoint_guid":"8cc63340-107b-11ec-ab5d-f9b221ed2dc5","endpoint_role":"list"},{"id":"0F17F650-4A38-4A06-9A2F-9569C320CA90","type":"ForEachBlock","disabled":false,"name":"loop5","displayName":"Loop 5","comment":"","childId":"7942FCD5-B4FD-4B68-9058-9E644302043B","inputs":[{"id":"input","value":"{ $.SpaceIDs }","type":"string","structure":[]}],"settings":[{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":221,"y":891,"loopBlockId":"D9DFA4B9-C83F-4BA6-8F9B-CC09C6BCE2BA"},{"id":"3E7A30F9-5C87-4BF2-AD9F-E19A60A69CB1","type":"EndpointBlock","disabled":false,"name":"listApps5","displayName":"Qlik Cloud Services - List Apps 5","comment":"","childId":null,"inputs":[{"id":"8cd8db50-107b-11ec-8082-edc45dd151ef","value":"8cde3d40-107b-11ec-98de-39d96a8971e1","type":"select","displayValue":"+name","structure":[]},{"id":"8ce4fad0-107b-11ec-a6ac-2bd407ad134b","value":"{ $.loop5.item }","type":"string","structure":[]}],"settings":[{"id":"maxitemcount","value":"","type":"string","structure":[]},{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"cache","value":"0","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":355,"y":988,"loopBlockId":"29476459-AEBA-45D9-A074-741419ADD07A","datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","endpoint_guid":"8cc63340-107b-11ec-ab5d-f9b221ed2dc5","endpoint_role":"list"},{"id":"29476459-AEBA-45D9-A074-741419ADD07A","type":"EndpointBlock","disabled":false,"name":"rawAPIRequest","displayName":"Qlik Cloud Services - Raw API Request","comment":"Retrieve app information","childId":"3BE96691-8AD9-4896-BAE2-FE810851A721","inputs":[{"id":"4add8960-2078-11ec-be2c-7fc55d771fe6","value":"items","type":"string","structure":[]},{"id":"3b992a40-2072-11ec-9f0e-ed01586a7e1b","value":"3ba1eed0-2072-11ec-aa67-f118ee53373a","type":"select","displayValue":"GET","structure":[]},{"id":"3b8b9090-2072-11ec-8c77-5195fbb0ca65","value":[],"type":"object","mode":"keyValue","structure":[]},{"id":"993585d0-2839-11ec-b431-df4deed6c1ae","value":[{"key":"resourceId","value":"{ $.listApps5.item.id }"},{"key":"resourceType","value":"app"}],"type":"object","mode":"keyValue","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"cache","value":"0","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":456,"y":1205,"datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","endpoint_guid":"3b75dd80-2072-11ec-9043-3b2aff6123af","endpoint_role":"get"},{"id":"3BE96691-8AD9-4896-BAE2-FE810851A721","type":"EndpointBlock","disabled":false,"name":"getSpace4","displayName":"Qlik Cloud Services - Get Space 4","comment":"","childId":"387EBE91-4BCF-41A2-83CA-2551FE588AB9","inputs":[{"id":"92f7bcd0-6d2d-11eb-9088-69419de8f253","value":"{ $.rawAPIRequest.data[0].spaceId }","type":"string","structure":[]}],"settings":[{"id":"blendr_on_error","value":"warning","type":"select","displayValue":"Warning - Continue Automation and report errors","structure":[]},{"id":"cache","value":"0","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":506,"y":2080,"datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","endpoint_guid":"92afefd0-6d2d-11eb-aee2-055653605a8e","endpoint_role":"get"},{"id":"387EBE91-4BCF-41A2-83CA-2551FE588AB9","type":"ShowBlock","disabled":false,"name":"output10","displayName":"Output 10","comment":"","childId":null,"inputs":[{"id":"input","value":"| {$.iter2} | [{$.rawAPIRequest.data[0].name}]({$.tenantHostname}/item/{$.rawAPIRequest.data[0].id}/details) |[{$.getSpace4.name}]({$.tenantHostname}/catalog?space_filter={$.rawAPIRequest.data[0].spaceId}) |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":506,"y":2200},{"id":"D9DFA4B9-C83F-4BA6-8F9B-CC09C6BCE2BA","type":"VariableBlock","disabled":false,"name":"iter2","displayName":"Variable - iter2","comment":"","childId":"3E7A30F9-5C87-4BF2-AD9F-E19A60A69CB1","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":456,"y":1085,"variableGuid":"042650A8-9196-4AC3-BB92-6A42E4CD26D1","operations":[{"id":"add","key":"F4B8AB11-C6B5-48D2-9637-36D77A79F972","name":"Add to { variable }","value":"1"}]},{"id":"72EB9D20-02D0-4047-A020-43D86378C4A8","type":"ForEachBlock","disabled":false,"name":"loop6","displayName":"Loop 6","comment":"","childId":null,"inputs":[{"id":"input","value":"{sortdesc: {$.WaitForReloadsToComplete}, 'status', 'SORT_STRING'}","type":"string","structure":[]}],"settings":[{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":136,"y":2940,"loopBlockId":"ED95D238-C834-461A-8C27-DF5D2CC0D667"},{"id":"11E593C5-0B00-444C-AB88-A14E3F08FC78","type":"VariableBlock","disabled":false,"name":"iter2","displayName":"Variable - iter2","comment":"","childId":null,"inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":506,"y":2060,"variableGuid":"042650A8-9196-4AC3-BB92-6A42E4CD26D1","operations":[{"id":"add","key":"F4B8AB11-C6B5-48D2-9637-36D77A79F972","name":"Add to { variable }","value":"1"}]},{"id":"0A1279BF-2CB2-49D1-8258-95B8ADF9135E","type":"EndpointBlock","disabled":false,"name":"rawAPIRequest2","displayName":"Qlik Cloud Services - Raw API Request 2","comment":"Retrieve the app information by fetching the item ","childId":"44A022F6-D5A1-4863-AF17-5EE266ADA82A","inputs":[{"id":"4add8960-2078-11ec-be2c-7fc55d771fe6","value":"items","type":"string","structure":[]},{"id":"3b992a40-2072-11ec-9f0e-ed01586a7e1b","value":"3ba1eed0-2072-11ec-aa67-f118ee53373a","type":"select","displayValue":"GET","structure":[]},{"id":"3b8b9090-2072-11ec-8c77-5195fbb0ca65","value":[],"type":"object","mode":"keyValue","structure":[]},{"id":"993585d0-2839-11ec-b431-df4deed6c1ae","value":[{"key":"resourceId","value":"{ $.loop6.item.appId }"},{"key":"resourceType","value":"app"}],"type":"object","mode":"keyValue","structure":[]}],"settings":[{"id":"blendr_on_error","value":"warning","type":"select","displayValue":"Warning - Continue Automation and report errors","structure":[]},{"id":"cache","value":"0","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":256,"y":3280,"datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","endpoint_guid":"3b75dd80-2072-11ec-9043-3b2aff6123af","endpoint_role":"get"},{"id":"44A022F6-D5A1-4863-AF17-5EE266ADA82A","type":"EndpointBlock","disabled":false,"name":"getSpace3","displayName":"Qlik Cloud Services - Get Space 3","comment":"","childId":"622CB73A-AC25-4205-A320-8E6B9DE37CE2","inputs":[{"id":"92f7bcd0-6d2d-11eb-9088-69419de8f253","value":"{ $.rawAPIRequest2.data[0].spaceId }","type":"string","structure":[]}],"settings":[{"id":"blendr_on_error","value":"warning","type":"select","displayValue":"Warning - Continue Automation and report errors","structure":[]},{"id":"cache","value":"0","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":506,"y":2180,"datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","endpoint_guid":"92afefd0-6d2d-11eb-aee2-055653605a8e","endpoint_role":"get"},{"id":"0D65A474-0BB2-4093-BAAF-DDB4B1DE0940","type":"IfElseBlock","disabled":false,"name":"condition6","displayName":"Condition 6","comment":"","childId":"193A6BD1-2B7D-42CB-81D8-E9D0473A7BDD","inputs":[{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"{ $.customCode2 }","input2":"1","operator":"!="}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"both","isCollapsed":false},{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":false}],"x":-308,"y":2671,"childTrueId":"0A1279BF-2CB2-49D1-8258-95B8ADF9135E","childFalseId":null},{"id":"193A6BD1-2B7D-42CB-81D8-E9D0473A7BDD","type":"VariableBlock","disabled":false,"name":"vAlreadyExists","displayName":"Variable - vAlreadyExists","comment":"","childId":null,"inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":-329,"y":3197,"variableGuid":"E59B2111-6BA4-4959-A623-C6C89E4CF8A1","operations":[{"id":"add_item","key":"186E8B0E-8FC6-4B28-8788-44322E5C134D","name":"Add item to { variable }","value":"{ $.loop6.item.appId }"}]},{"id":"ED95D238-C834-461A-8C27-DF5D2CC0D667","type":"CustomCodeBlock3","disabled":false,"name":"customCode2","displayName":"Custom Code 2","comment":"","childId":"0D65A474-0BB2-4093-BAAF-DDB4B1DE0940","inputs":[{"id":"language","value":"python","type":"select","displayValue":"Python 3.11","structure":[]},{"id":"inputs","value":[{"key":"AlreadyLoaded","value":"{ $.vAlreadyExists }"},{"key":"Toload","value":"{ $.loop6.item.appId }"}],"type":"object","mode":"keyValue","structure":[]},{"id":"code","value":"AlreadyLoaded = inputs['AlreadyLoaded']\nToload = inputs['Toload']\n\nif Toload in AlreadyLoaded:\n    print(1)","type":"code","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":-351,"y":2884}],"variables":[{"guid":"7CA79294-3788-44A7-857B-B0081DD279CC","name":"ReloadIds","type":"list"},{"guid":"0F243B11-42A5-4036-8E2B-A1298EC17B5E","name":"AppIds","type":"list"},{"guid":"548E2472-6330-424A-8EE6-E9BB69A9B240","name":"SpaceIDs","type":"list"},{"guid":"267D138A-AF61-487D-BAFD-386F38F8F675","name":"reloadMessage","type":"string"},{"guid":"33F57639-3F48-43D0-8EF9-5D35603B92CB","name":"Iter","type":"number"},{"guid":"85265DFC-FB0F-4918-B144-846141BADE6D","name":"FailedIter","type":"number"},{"guid":"747C6884-3FD9-4F6D-BBB8-09B5D83E3B3A","name":"iterReloadsTriggered","type":"number"},{"guid":"EAABB3C5-8B6C-4705-A9C0-34C41437D928","name":"iterReloadsFailed","type":"number"},{"guid":"7B165FF2-68F9-4350-BE6D-36E23D6AB08C","name":"vEndTime","type":"number"},{"guid":"2C7A8B0A-2610-432E-9BED-3F5E59927EE2","name":"vStartTime","type":"number"},{"guid":"F7AF9767-9629-476E-BFAD-B18B229F8F1D","name":"LoopItr","type":"number"},{"guid":"042650A8-9196-4AC3-BB92-6A42E4CD26D1","name":"iter2","type":"number"},{"guid":"4D242E4E-32E1-4C9A-9C57-6C6593416E95","name":"iterReloadsSkipped","type":"number"},{"guid":"BAAF963B-F49B-4C19-A800-F0FB6FBF8B31","name":"tenantHostname","type":"string"},{"guid":"C124049A-1A5B-42F4-903E-ABC03243E899","name":"autoResolveAccessIssues","type":"number"},{"guid":"981AFBA2-F760-4A98-92F9-367B7F61F11F","name":"MinutesUntilRety","type":"number"},{"guid":"2168E0A4-0CF7-4C80-903C-0480A2DFCEF8","name":"TimesRetry","type":"number"},{"guid":"DE05588E-0B23-473B-85B9-DCF281E04B89","name":"Customer","type":"string"},{"guid":"CACA5B61-1613-4EF9-B285-DAED7CBB62DC","name":"AppsToLoad","type":"list"},{"guid":"E59B2111-6BA4-4959-A623-C6C89E4CF8A1","name":"vAlreadyExists","type":"list"}]}
