{"blocks":[{"id":"6282EAB0-706D-4CEB-B6BB-BB1A611848B9","type":"StartBlock","disabled":false,"name":"Start","displayName":"Start","comment":"","childId":"A6FD4E30-8229-4462-83FC-A5571FDC1DC1","inputs":[{"id":"run_mode","value":"scheduled","type":"select","structure":{}},{"id":"schedule_start","value":null,"type":"date","structure":{}},{"id":"schedule_stoptime","value":null,"type":"date","structure":{}},{"id":"schedule_interval","value":"86400","type":"select","structure":{}},{"id":"schedule_timezone","value":"Europe/Warsaw","type":"select","structure":{}}],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":0,"y":0},{"id":"17EBC00E-CB95-46D4-8962-283062B24FF5","type":"FormBlock","disabled":false,"name":"inputs","displayName":"Inputs","comment":"","childId":"46459778-0BD0-4107-89AF-269BCC9BF0E9","inputs":[],"settings":[{"id":"persist_data","value":"no","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":0,"y":240,"form":[{"id":"inputs-input-0","label":"System name","helpText":"This will be used to generate the name of the space. Example: D1 Visma.Net PRODUse a descriptive system name like ‚ÄúVisma.Net‚Äù, ‚ÄúBusiness Central‚Äù etc.","type":"input","values":null,"isRequired":true,"options":{},"order":0},{"id":"inputs-input-1","label":"System ID prefix (1st digit)","helpText":"First number in 1.x.x structure. Used to identify the business system (e.g., 1 = Visma.Net, 2 = BC, etc).Will be used in naming of space and folder structure.","type":"select","values":"1,2,3,4,5,6,7,8,9,10","isRequired":true,"options":{},"order":1},{"id":"inputs-input-2","label":"Setup reload automation","helpText":"When selected, a reload automation will be created to trigger data reloads for this system.","type":"select","values":"No ‚Äì Don't install any automation for reloads\n, Sequential ‚Äì Reload apps one at a time in a controlled order\n,Parallel (by space) ‚Äì Reload apps in parallel grouped by space","isRequired":true,"options":{},"order":2},{"id":"inputs-input-3","label":"Setup backup automation","helpText":"When selected, an automation will be installed to handle backups of apps and data related to this system.","type":"select","values":"No, Choose an existing Qlik space for storing app backups, Enter a new name to automatically create a new backup space","isRequired":true,"options":{},"order":3},{"id":"inputs-input-4","label":"What type of Architecture?","helpText":"Choose combined if Extract & Transform are handled in the same managed space.","type":"select","values":"Extract + Transform (separate managed space), Extract & Transform (combined managed space)","isRequired":true,"options":{},"order":4}],"persistData":"no"},{"id":"A6FD4E30-8229-4462-83FC-A5571FDC1DC1","type":"ShowBlock","disabled":false,"name":"output","displayName":"Output","comment":"* This automation requires no configuration. Press \"Run\". *","childId":"17EBC00E-CB95-46D4-8962-283062B24FF5","inputs":[{"id":"input","value":"# üëã Welcome to the EDF Setup Wizard\nThis flow helps you automatically create the correct Qlik spaces, apps, and automations for a new data system.","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":0,"y":120},{"id":"46459778-0BD0-4107-89AF-269BCC9BF0E9","type":"EndpointBlock","disabled":false,"name":"listSpaces","displayName":"Qlik Cloud Services - List Spaces","comment":"Get a list of all spaces.","childId":"28C67A46-89EA-4FC8-9D66-4555DB9D0A0D","inputs":[],"settings":[{"id":"maxitemcount","value":"","type":"string","structure":[]},{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"cache","value":"0","type":"select","displayValue":"None","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":true}],"x":0,"y":360,"loopBlockId":null,"datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","endpoint_guid":"42815920-5f18-11eb-8321-91b1587b6c06","endpoint_role":"list"},{"id":"28C67A46-89EA-4FC8-9D66-4555DB9D0A0D","type":"FilterListBlock","disabled":false,"name":"filterList","displayName":"Filter over Qlik Cloud Services - List Spaces - Filter List","comment":"Filter down to only Shared spaces.","childId":"B2D420C6-70AC-44FD-84E6-702DCAC3FF77","inputs":[{"id":"list","value":"{ $.listSpaces }","type":"string","structure":[]},{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"type","input2":"shared","operator":"="}]},"type":"custom","structure":[]}],"settings":[{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":true}],"x":0,"y":480,"loopBlockId":null},{"id":"C1DFE31B-1994-4604-96E5-DD4B8BC998B7","type":"IfElseBlock","disabled":false,"name":"condition2","displayName":"Condition 2","comment":"Create new spaces?","childId":null,"inputs":[{"id":"conditions","value":{"mode":"some","conditions":[{"input1":"{ $.inputs.'Setup backup automation' }","input2":"Enter a new name to automatically create a new backup space","operator":"="}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"both","isCollapsed":false},{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":false}],"x":120,"y":680,"childTrueId":"B519D757-1C24-4E69-8CCF-A4B931861766","childFalseId":"60DAF802-8764-4655-8D45-D34B9ED311B5"},{"id":"B519D757-1C24-4E69-8CCF-A4B931861766","type":"FormBlock","disabled":false,"name":"inputs4","displayName":"Inputs 4","comment":"Provide new space names.","childId":"058A8476-ED4D-4760-9F8E-8AFD916D8273","inputs":[],"settings":[{"id":"persist_data","value":"no","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":240,"y":760,"form":[{"id":"inputs4-input-0","label":"Backup Space","helpText":"Enter a name for a new space where the backup versions of your apps will be stored.This will automatically create a new space if it doesn‚Äôt already exist.","type":"input","values":"{sort: {$.filterList[*].name}}","isRequired":false,"options":{},"order":0}],"persistData":"no"},{"id":"60DAF802-8764-4655-8D45-D34B9ED311B5","type":"FormBlock","disabled":false,"name":"inputs5","displayName":"Inputs 5","comment":"Select existing space names.","childId":"F1412A7B-17DE-4CCE-B531-49CB116FDDD4","inputs":[],"settings":[{"id":"persist_data","value":"no","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":240,"y":1160,"form":[{"id":"inputs5-input-0","label":"Select Source Space for Backup","helpText":"Select the existing  shared Qlik space you want to back up","type":"select","values":"{implode: {sort: {$.filterList[*].name}}}","isRequired":true,"options":{},"order":0}],"persistData":"no"},{"id":"B2D420C6-70AC-44FD-84E6-702DCAC3FF77","type":"IfElseBlock","disabled":false,"name":"condition","displayName":"Condition","comment":"User wants back-up? Automation","childId":"913DDA63-84E1-4F08-91FF-0FE72689976A","inputs":[{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"{ $.inputs.'Setup backup automation' }","input2":"No","operator":"!="}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"both","isCollapsed":false},{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":false}],"x":0,"y":600,"childTrueId":"C1DFE31B-1994-4604-96E5-DD4B8BC998B7","childFalseId":"0DF299D0-F1EC-44B0-9118-892041613715"},{"id":"0DF299D0-F1EC-44B0-9118-892041613715","type":"VariableBlock","disabled":false,"name":"BackUpSpace","displayName":"Variable - BackUpSpace","comment":"","childId":null,"inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":120,"y":1640,"variableGuid":"4DFFF7CD-C8EB-41EA-9A04-06085211682E","operations":[{"id":"empty","key":"07913D86-78E5-46BC-884B-6ED7DB77A018","name":"Empty { variable }","value":null}]},{"id":"FFA525A7-9069-44B6-8C34-4FB7F40AF13A","type":"VariableBlock","disabled":false,"name":"BackUpSpace","displayName":"Variable - BackUpSpace","comment":"","childId":null,"inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":240,"y":1000,"variableGuid":"4DFFF7CD-C8EB-41EA-9A04-06085211682E","operations":[{"id":"set_value","key":"3BC875A3-4009-40DA-B103-33183CB84E84","name":"Set value of { variable }","value":"{ $.inputs4.'Backup Space' }"}]},{"id":"7A9A3482-EE45-4E17-B46F-5E67A2610838","type":"VariableBlock","disabled":false,"name":"BackUpSpace","displayName":"Variable - BackUpSpace","comment":"","childId":null,"inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":240,"y":1400,"variableGuid":"4DFFF7CD-C8EB-41EA-9A04-06085211682E","operations":[{"id":"set_value","key":"746241D8-C6E6-4D96-BA1B-A4629F08E756","name":"Set value of { variable }","value":"{ $.lookupItemInList3.id }"}]},{"id":"058A8476-ED4D-4760-9F8E-8AFD916D8273","type":"VariableBlock","disabled":false,"name":"SpaceType","displayName":"Variable - SpaceType","comment":"","childId":"FFA525A7-9069-44B6-8C34-4FB7F40AF13A","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":240,"y":880,"variableGuid":"098B7A0E-54A7-4730-8C64-FD5CA9BB50BF","operations":[{"id":"set_value","key":"E1233947-491B-4389-99DC-B9C676A7CFBA","name":"Set value of { variable }","value":"New"}]},{"id":"F1412A7B-17DE-4CCE-B531-49CB116FDDD4","type":"LookupItemBlock","disabled":false,"name":"lookupItemInList3","displayName":"Lookup Item In List 3","comment":"","childId":"7A9A3482-EE45-4E17-B46F-5E67A2610838","inputs":[{"id":"list","value":"{ $.filterList }","type":"string","structure":[]},{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"name","input2":"{ $.inputs5.'Select Source Space for Backup' }","operator":"="}]},"type":"custom","structure":[]}],"settings":[{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":240,"y":1280},{"id":"3A4941E1-B9A4-40EB-9BF3-3A4634B58263","type":"IfElseBlock","disabled":false,"name":"condition3","displayName":"Condition 3","comment":"","childId":"6758EC32-B28C-4FDC-8B37-094F6735CFAF","inputs":[{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"{ $.SpaceType }","input2":"New","operator":"="}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"both","isCollapsed":false},{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":true}],"x":120,"y":19240,"childTrueId":"C2EED469-E746-46C0-B5B0-56E2CDBF97D5","childFalseId":null},{"id":"15740710-7E78-4653-A0BF-6462975C749A","type":"ShowBlock","disabled":false,"name":"output45","displayName":"Output 45","comment":"Log headers","childId":"6AEBA323-45BF-4CAF-9428-18BC95020392","inputs":[{"id":"input","value":"| Focus | Log |\n| --- | --- |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","displayValue":"Add this output to the list of all outputs","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":120,"y":5040},{"id":"C2EED469-E746-46C0-B5B0-56E2CDBF97D5","type":"ShowBlock","disabled":false,"name":"output29","displayName":"Output 29","comment":"Creating new shared space","childId":"BBBCC01C-0207-4AE2-89A2-52A929E6BDC1","inputs":[{"id":"input","value":"| Spaces | Creating new Shared back-up space named '{$.inputs4.'Backup Space'}'... |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":240,"y":19320},{"id":"BBBCC01C-0207-4AE2-89A2-52A929E6BDC1","type":"EndpointBlock","disabled":false,"name":"createSpace","displayName":"Qlik Cloud Services - Create Space","comment":"Create shared space.","childId":"AC4DEE7B-4A43-40F4-8885-63D4ADFE7238","inputs":[{"id":"f0de69a0-6d24-11eb-8c07-ebadb5af2511","value":"{ $.inputs4.'Backup Space' }","type":"string","structure":[]},{"id":"79771850-6d25-11eb-8021-177e65e81ac9","value":"shared","type":"select","structure":[]},{"id":"f0ecac30-6d24-11eb-a7b6-d15be2d36858","value":"Auto-generated backup space for auto-creating back-ups when publishing applications.","type":"string","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":240,"y":19440,"datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","endpoint_guid":"f0c14620-6d24-11eb-aa67-c519e2671d3d","endpoint_role":"create"},{"id":"AC4DEE7B-4A43-40F4-8885-63D4ADFE7238","type":"SleepBlock","disabled":false,"name":"sleep4","displayName":"Sleep 4","comment":"","childId":"52601649-7F1A-4313-916E-CBA60E8637CC","inputs":[{"id":"time","value":"5","type":"string","structure":[]}],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":240,"y":19560},{"id":"52601649-7F1A-4313-916E-CBA60E8637CC","type":"VariableBlock","disabled":false,"name":"BackUpSpace","displayName":"Variable - BackUpSpace","comment":"","childId":"D527C820-3F10-45BC-BB3C-3BE3A873D51C","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":240,"y":19680,"variableGuid":"4DFFF7CD-C8EB-41EA-9A04-06085211682E","operations":[{"id":"set_value","key":"746241D8-C6E6-4D96-BA1B-A4629F08E756","name":"Set value of { variable }","value":"{$.createSpace.id}"}]},{"id":"D527C820-3F10-45BC-BB3C-3BE3A873D51C","type":"ShowBlock","disabled":false,"name":"output37","displayName":"Output 37","comment":"Space created.","childId":null,"inputs":[{"id":"input","value":"| Spaces | Space created. |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":240,"y":19800},{"id":"6758EC32-B28C-4FDC-8B37-094F6735CFAF","type":"IfElseBlock","disabled":false,"name":"condition4","displayName":"Condition 4","comment":"","childId":"265E4229-F39E-499C-8A34-31454C995E23","inputs":[{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"{ $.BackUpSpace }","input2":null,"operator":"notEmpty"}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"both","isCollapsed":false},{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":true}],"x":120,"y":19960,"childTrueId":"29A336FE-9134-4514-B5EB-29F82FF6A02A","childFalseId":null},{"id":"C4AA661F-B499-4840-8E3C-44184CC04B59","type":"CallUrlBlock","disabled":false,"name":"callURL4","displayName":"Call URL 4","comment":"Get Back-Up Automation\n","childId":"08233693-AD1E-4A47-AF17-D6A17F4ED38F","inputs":[{"id":"url","value":"https://raw.githubusercontent.com/KarlRikardLarsson/QlikAutomations/refs/heads/main/DataFramework/Back-Up","type":"string","structure":[]},{"id":"method","value":"GET","type":"select","structure":[]},{"id":"timeout","value":"","type":"string","structure":[]},{"id":"params","value":[],"type":"object","mode":"keyValue","structure":[]},{"id":"headers","value":[],"type":"object","mode":"keyValue","structure":[]},{"id":"encoding","value":"","type":"string","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"full_response","value":null,"type":"checkbox","structure":[]},{"id":"capitalize_headers","value":true,"type":"checkbox","structure":[]},{"id":"automations_censor_data","value":true,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":240,"y":20160},{"id":"C34DAC8A-527F-42D1-AAB9-93A6DBA0D2A7","type":"EndpointBlock","disabled":false,"name":"createAutomation","displayName":"Qlik Cloud Services - Create Automation","comment":"","childId":null,"inputs":[{"id":"232befc0-d025-11ec-a748-91ccd794dccb","value":"Auto Back-Up: Published Apps","type":"string","structure":[]},{"id":"2a202480-d025-11ec-9540-7766f5f4a17f","value":"Copies published Qlik apps to a defined back-up space. Triggered automatically to ensure app versioning and retention.","type":"string","structure":[]},{"id":"20409e30-2833-11ed-bc5f-f13e86c5c276","value":"{ $.customCode }","type":"string","structure":[]},{"id":"2b723a50-2833-11ed-a670-b786f7e00bcc","value":null,"type":"string","structure":[]},{"id":"23518c10-6ba4-11f0-b8b7-3d5c6919a381","value":null,"type":"string","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":240,"y":20400,"datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","endpoint_guid":"fb79f2d0-d024-11ec-b5a3-394cdb5edde2","endpoint_role":"create"},{"id":"08233693-AD1E-4A47-AF17-D6A17F4ED38F","type":"CustomCodeBlock3","disabled":false,"name":"customCode","displayName":"Custom Code","comment":"","childId":"C34DAC8A-527F-42D1-AAB9-93A6DBA0D2A7","inputs":[{"id":"language","value":"python","type":"select","displayValue":"Python 3.11","structure":[]},{"id":"inputs","value":[{"key":"Automation","value":"{ $.callURL4 }"},{"key":"BackUpSpace","value":"{ $.BackUpSpace }"}],"type":"object","mode":"keyValue","structure":[]},{"id":"code","value":"import json\n\n# Example input values (these would typically come from inputs in a real script)\nOriginalAutomation = inputs['Automation']\nUpdatedAutomation = inputs['BackUpSpace']\n\n# Convert to string if not already (JSON input is assumed to be a string)\nif isinstance(OriginalAutomation, dict):\n    OriginalAutomation = json.dumps(OriginalAutomation)\n\n# Replace the original GUID with the new backup space GUID\nreplaced_json_str = OriginalAutomation.replace(\"673700a17644a75c464a596f\", UpdatedAutomation)\n\n# Optional: parse back to JSON if needed\nUpdatedJson = json.loads(replaced_json_str)\n\n# Print or return the updated JSON\nprint(json.dumps(UpdatedJson, indent=2))\n","type":"code","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":240,"y":20280},{"id":"29A336FE-9134-4514-B5EB-29F82FF6A02A","type":"ShowBlock","disabled":false,"name":"output2","displayName":"Output 2","comment":"Creating new shared space","childId":"C4AA661F-B499-4840-8E3C-44184CC04B59","inputs":[{"id":"input","value":"| Back-up Automation | Installed a back-up automation named 'Auto Back-Up: Published Apps'... |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":240,"y":20040},{"id":"47A1E54C-A7F9-409D-BC46-09F87BF789D1","type":"FormBlock","disabled":false,"name":"inputs11","displayName":"Inputs 11","comment":"Proceed","childId":"5E463DF9-A5B2-43F3-88C1-967076A20887","inputs":[],"settings":[{"id":"persist_data","value":"no","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":0,"y":2640,"form":[{"id":"inputs11-input-0","label":"Proceed","helpText":null,"type":"select","values":"Yes,No","isRequired":true,"options":{},"order":0}],"persistData":"no"},{"id":"913DDA63-84E1-4F08-91FF-0FE72689976A","type":"ShowBlock","disabled":false,"name":"output3","displayName":"Output 3","comment":"Log headers","childId":"BEF475CD-19FD-4F1E-A369-1D706996B340","inputs":[{"id":"input","value":"### Please Confirm the Setup\nMake sure the information below is correct before continuing:\n| Setting         | Value                      |\n|----------------|----------------------------|\n| Create Shared Space   | `{$.inputs.'System ID prefix (1st digit)'}.1.1 Extract {$.inputs.'System name'} TEST`          |\n| Create Shared Space   | `{$.inputs.'System ID prefix (1st digit)'}.2.1  Transform  {$.inputs.'System name'} TEST`          |\n{if: { $.inputs.'What type of Architecture?' } = 'Extract + Transform (separate managed space)', | Create Managed Space   | `{$.inputs.'System ID prefix (1st digit)'}.1.1 Extract  {$.inputs.'System name'} PROD`          |{linebreak} | Create Manged Space   | `{$.inputs.'System ID prefix (1st digit)'}.2.1 Transform  {$.inputs.'System name'} PROD`          |, | Create Managed Space   | `Extract & Transform {$.inputs.'System name'} PROD`          |}\n| Create Shared Space   | `{$.inputs.'System ID prefix (1st digit)'}.3.1 Load {$.inputs.'System name'} TEST`          |\n| Create Data Space   | `D.{$.inputs.'System ID prefix (1st digit)'} {$.inputs.'System name'}`          | \n| Create Shared Space   | `98. Script Library`          |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","displayValue":"Add this output to the list of all outputs","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":0,"y":1800},{"id":"C3A01FF3-1DBC-48DC-8063-B1FA2113BF42","type":"IfElseBlock","disabled":false,"name":"condition5","displayName":"Condition 5","comment":"","childId":"D2B03F79-1380-42C7-9D9D-722FBD2D33D7","inputs":[{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"{ $.inputs.'Setup reload automation' }","input2":"No ‚Äì Don't install any automation for reloads","operator":"!="}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"both","isCollapsed":false},{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":true}],"x":0,"y":2160,"childTrueId":"E49FAF29-8B30-40F8-B4CD-B825AAE83547","childFalseId":null},{"id":"E49FAF29-8B30-40F8-B4CD-B825AAE83547","type":"ShowBlock","disabled":false,"name":"output4","displayName":"Output 4","comment":"Log headers","childId":null,"inputs":[{"id":"input","value":"| Install reload automation   | Installing reload automation `Reload chain  { $.inputs.'System name' }`          |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","displayValue":"Add this output to the list of all outputs","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":120,"y":2240},{"id":"D2B03F79-1380-42C7-9D9D-722FBD2D33D7","type":"IfElseBlock","disabled":false,"name":"condition6","displayName":"Condition 6","comment":"","childId":"47A1E54C-A7F9-409D-BC46-09F87BF789D1","inputs":[{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"{ $.inputs.'Setup backup automation' }","input2":"No","operator":"!="}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"both","isCollapsed":false},{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":true}],"x":0,"y":2400,"childTrueId":"419B8805-3F46-4CD3-AB20-84784F043AB8","childFalseId":null},{"id":"419B8805-3F46-4CD3-AB20-84784F043AB8","type":"ShowBlock","disabled":false,"name":"output5","displayName":"Output 5","comment":"Log headers","childId":null,"inputs":[{"id":"input","value":"| Install back-up automation   | Installing back-up automation `Auto Back-Up: Published Apps`          |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","displayValue":"Add this output to the list of all outputs","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":120,"y":2480},{"id":"0AACE4C6-84D1-4E21-BA6E-17F41FB80E48","type":"CallUrlBlock","disabled":false,"name":"callURL","displayName":"Call URL","comment":"Get Extract application\n","childId":"DFC2FD9C-B3EB-4C05-B663-8EBAB7158B4C","inputs":[{"id":"url","value":"https://raw.githubusercontent.com/KarlRikardLarsson/QlikAutomations/refs/heads/main/DataFramework/Extract","type":"string","structure":[]},{"id":"method","value":"GET","type":"select","structure":[]},{"id":"timeout","value":"","type":"string","structure":[]},{"id":"params","value":[],"type":"object","mode":"keyValue","structure":[]},{"id":"headers","value":[],"type":"object","mode":"keyValue","structure":[]},{"id":"encoding","value":"","type":"string","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"full_response","value":null,"type":"checkbox","structure":[]},{"id":"capitalize_headers","value":true,"type":"checkbox","structure":[]},{"id":"automations_censor_data","value":true,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":120,"y":14520},{"id":"A5F64DAA-66FE-4AE2-BCE7-5829496E5EDE","type":"IfElseBlock","disabled":false,"name":"condition8","displayName":"Condition 8","comment":"","childId":null,"inputs":[{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"{ $.inputs11.Proceed }","input2":"Yes","operator":"="}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"both","isCollapsed":false},{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":true}],"x":0,"y":4960,"childTrueId":"15740710-7E78-4653-A0BF-6462975C749A","childFalseId":null},{"id":"00FF08F1-0039-4BC9-A706-3958F83A1F9A","type":"ShowBlock","disabled":false,"name":"output6","displayName":"Output 6","comment":"Extracting Application","childId":"0AACE4C6-84D1-4E21-BA6E-17F41FB80E48","inputs":[{"id":"input","value":"| Application | Importing application template (Extract) .. |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":120,"y":14400},{"id":"694E7EF3-8825-4BE0-8000-2443306CE404","type":"ShowBlock","disabled":false,"name":"output7","displayName":"Output 7","comment":"Application imported","childId":"1E93738E-AD11-4FE7-98A1-105A7F2357D0","inputs":[{"id":"input","value":"| Application | Application imported. |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":120,"y":14760},{"id":"595D67FE-9998-4976-98E2-E645A69E9EFA","type":"ShowBlock","disabled":false,"name":"output8","displayName":"Output 8","comment":"Creating shared space (Extact)","childId":"C57FE3EF-6B28-48F8-9544-E1DBD64C3C09","inputs":[{"id":"input","value":"| Spaces | Creating new shared space named `{$.inputs.'System ID prefix (1st digit)'}.1.1 Extract {$.inputs.'System name'} TEST`.. |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":240,"y":5360},{"id":"C57FE3EF-6B28-48F8-9544-E1DBD64C3C09","type":"EndpointBlock","disabled":false,"name":"createSpace2","displayName":"Qlik Cloud Services - Create Space 2","comment":"","childId":"6537567E-3238-4D23-B12F-5FDDC82A2FBA","inputs":[{"id":"f0de69a0-6d24-11eb-8c07-ebadb5af2511","value":"{$.inputs.'System ID prefix (1st digit)'}.1.1 Extract {$.inputs.'System name'} TEST","type":"string","structure":[]},{"id":"79771850-6d25-11eb-8021-177e65e81ac9","value":"80775910-6d25-11eb-814f-cfc59c3c1cd1","type":"select","displayValue":"shared","structure":[]},{"id":"f0ecac30-6d24-11eb-a7b6-d15be2d36858","value":"Shared extract space for{$.inputs.'System name'}","type":"string","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":240,"y":5480,"datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","endpoint_guid":"f0c14620-6d24-11eb-aa67-c519e2671d3d","endpoint_role":"create"},{"id":"C40452A1-9BC9-4F73-92D5-4AEDC8B3CA52","type":"ShowBlock","disabled":false,"name":"output38","displayName":"Output 38","comment":"Space created.","childId":null,"inputs":[{"id":"input","value":"| Spaces | Space created. |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":240,"y":5720},{"id":"7CBBF03B-1AE9-41DB-B440-5E3DE9BAB034","type":"SleepBlock","disabled":false,"name":"sleep","displayName":"Sleep","comment":"","childId":"48A7C7CA-56A7-4CAA-A49D-C2643688F223","inputs":[{"id":"time","value":"1","type":"string","structure":[]}],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":120,"y":6280},{"id":"548842E5-C687-4280-B35B-8403A5EDDD00","type":"ShowBlock","disabled":false,"name":"output9","displayName":"Output 9","comment":"Creating managed space (Extact)","childId":"3985A5FC-BDE7-4F2E-A134-4BC04B70948D","inputs":[{"id":"input","value":"| Spaces | Creating new managed space named `{$.inputs.'System ID prefix (1st digit)'}.1.1 Extract {$.inputs.'System name'} PROD`... |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":360,"y":6680},{"id":"3985A5FC-BDE7-4F2E-A134-4BC04B70948D","type":"EndpointBlock","disabled":false,"name":"createSpace3","displayName":"Qlik Cloud Services - Create Space 3","comment":"","childId":"379288C6-A39B-40DD-92B6-1329165BC56A","inputs":[{"id":"f0de69a0-6d24-11eb-8c07-ebadb5af2511","value":"{$.inputs.'System ID prefix (1st digit)'}.1.1 Extract {$.inputs.'System name'} PROD","type":"string","structure":[]},{"id":"79771850-6d25-11eb-8021-177e65e81ac9","value":"85124350-6d25-11eb-b175-b765e6d02c86","type":"select","displayValue":"managed","structure":[]},{"id":"f0ecac30-6d24-11eb-a7b6-d15be2d36858","value":"Manged extract space for {$.inputs.'System name'}","type":"string","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":360,"y":6800,"datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","endpoint_guid":"f0c14620-6d24-11eb-aa67-c519e2671d3d","endpoint_role":"create"},{"id":"379288C6-A39B-40DD-92B6-1329165BC56A","type":"SleepBlock","disabled":false,"name":"sleep2","displayName":"Sleep 2","comment":"","childId":"02898EB8-8F04-4E59-80E9-86C7F81AF399","inputs":[{"id":"time","value":"1","type":"string","structure":[]}],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":360,"y":6920},{"id":"02898EB8-8F04-4E59-80E9-86C7F81AF399","type":"ShowBlock","disabled":false,"name":"output39","displayName":"Output 39","comment":"Space created.","childId":"D55D01F4-DFAE-4A9A-855D-6AE9FBFA7BFB","inputs":[{"id":"input","value":"| Spaces | Space created. |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":360,"y":7040},{"id":"54850D52-028B-46F8-BE29-BE0A647C0A48","type":"ShowBlock","disabled":false,"name":"output11","displayName":"Output 11","comment":"Creating managed space (Transform)","childId":"56963864-FF44-4AC5-A166-0493AC1C2FC1","inputs":[{"id":"input","value":"| Spaces | Creating new managed space named `{$.inputs.'System ID prefix (1st digit)'}.2.1 {$.inputs.'System name'} Transform PROD`... |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":360,"y":10640},{"id":"56963864-FF44-4AC5-A166-0493AC1C2FC1","type":"EndpointBlock","disabled":false,"name":"createSpace4","displayName":"Qlik Cloud Services - Create Space 4","comment":"","childId":"B5761225-EBDD-4A75-A07B-6259B5668038","inputs":[{"id":"f0de69a0-6d24-11eb-8c07-ebadb5af2511","value":"{$.inputs.'System ID prefix (1st digit)'}.2.1 Transform {$.inputs.'System name'} PROD","type":"string","structure":[]},{"id":"79771850-6d25-11eb-8021-177e65e81ac9","value":"85124350-6d25-11eb-b175-b765e6d02c86","type":"select","displayValue":"managed","structure":[]},{"id":"f0ecac30-6d24-11eb-a7b6-d15be2d36858","value":"Manged transform space for {$.inputs.'System name'}","type":"string","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":360,"y":10760,"datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","endpoint_guid":"f0c14620-6d24-11eb-aa67-c519e2671d3d","endpoint_role":"create"},{"id":"B5761225-EBDD-4A75-A07B-6259B5668038","type":"SleepBlock","disabled":false,"name":"sleep3","displayName":"Sleep 3","comment":"","childId":"34667B4E-7E8E-46C3-8483-B3AA30B48EA1","inputs":[{"id":"time","value":"1","type":"string","structure":[]}],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":360,"y":10880},{"id":"34667B4E-7E8E-46C3-8483-B3AA30B48EA1","type":"ShowBlock","disabled":false,"name":"output40","displayName":"Output 40","comment":"Space created.","childId":"79452492-1251-456E-89E4-88575AC3F5F8","inputs":[{"id":"input","value":"| Spaces | Space created. |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":360,"y":11000},{"id":"0818DC6B-ECC0-457F-8CC8-950450135027","type":"ShowBlock","disabled":false,"name":"output12","displayName":"Output 12","comment":"Creating shared space (Transform)","childId":"0A322EE9-7705-49E9-A445-8114B28FA7FF","inputs":[{"id":"input","value":"| Spaces | Creating new shared space named `{$.inputs.'System ID prefix (1st digit)'}.2.1 {$.inputs.'System name'} Transform TEST`... |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":240,"y":9320},{"id":"0A322EE9-7705-49E9-A445-8114B28FA7FF","type":"EndpointBlock","disabled":false,"name":"createSpace5","displayName":"Qlik Cloud Services - Create Space 5","comment":"","childId":"EB263454-853B-461A-8580-A9E1ADC3EE4C","inputs":[{"id":"f0de69a0-6d24-11eb-8c07-ebadb5af2511","value":"{$.inputs.'System ID prefix (1st digit)'}.2.1 Transform {$.inputs.'System name'} TEST","type":"string","structure":[]},{"id":"79771850-6d25-11eb-8021-177e65e81ac9","value":"80775910-6d25-11eb-814f-cfc59c3c1cd1","type":"select","displayValue":"shared","structure":[]},{"id":"f0ecac30-6d24-11eb-a7b6-d15be2d36858","value":"Shared extract space for{$.inputs.'System name'}","type":"string","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":240,"y":9440,"datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","endpoint_guid":"f0c14620-6d24-11eb-aa67-c519e2671d3d","endpoint_role":"create"},{"id":"EB263454-853B-461A-8580-A9E1ADC3EE4C","type":"SleepBlock","disabled":false,"name":"sleep5","displayName":"Sleep 5","comment":"","childId":"CA764CAE-32A0-4D45-8708-396FAE37F9CA","inputs":[{"id":"time","value":"1","type":"string","structure":[]}],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":240,"y":9560},{"id":"226DDC7E-12EB-4EFD-AC1C-96A66F9AA137","type":"ShowBlock","disabled":false,"name":"output41","displayName":"Output 41","comment":"Space created.","childId":null,"inputs":[{"id":"input","value":"| Spaces | Space created. |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":240,"y":9800},{"id":"DFC2FD9C-B3EB-4C05-B663-8EBAB7158B4C","type":"EndpointBlock","disabled":false,"name":"importAppFromBase64EncodedFile","displayName":"Qlik Cloud Services - Import App From Base 64 Encoded File","comment":"","childId":"694E7EF3-8825-4BE0-8000-2443306CE404","inputs":[{"id":"09b520a0-7aa4-11eb-8143-cde65e595ead","value":"{ $.callURL }","type":"string","structure":[]},{"id":"19661000-67b1-11eb-b4c6-fb30d89c586f","value":"Extract { $.inputs.'System name' }","type":"string","structure":[]},{"id":"197675a0-67b1-11eb-b6f6-9ff3bc51ddbf","value":"{ $.vSharedExtractSpaceID }","type":"string","structure":[]},{"id":"4d3a3300-67b1-11eb-99af-3d55175faa9a","value":null,"type":"select","structure":[]},{"id":"ac4b58f0-67b1-11eb-8126-89d0cf328adb","value":null,"type":"string","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":120,"y":14640,"datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","endpoint_guid":"194b9430-67b1-11eb-9e04-6dbde84bea83","endpoint_role":"create"},{"id":"3183424B-A135-4611-ADBB-CB1C92A34297","type":"SnippetBlock","disabled":false,"name":"GetLoadScript","displayName":"Qlik Cloud Services - Get Load Script","comment":"Get the load script.","childId":"7063B62A-8039-4654-9C6E-56F07ED495EE","inputs":[{"id":"299dd6e0-7535-11eb-a1b1-8108a69d86b2","value":"{$.importAppFromBase64EncodedFile.attributes.id}","type":"string","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":120,"y":15000,"datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","snippet_guid":"8d2f7da0-5028-11eb-8889-317a6c8ea7fc"},{"id":"7063B62A-8039-4654-9C6E-56F07ED495EE","type":"SleepBlock","disabled":false,"name":"sleep33","displayName":"Sleep 33","comment":"","childId":"2A92D80E-225B-46C9-AC79-4C1904B9C354","inputs":[{"id":"time","value":"1","type":"string","structure":[]}],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":120,"y":15120},{"id":"2A92D80E-225B-46C9-AC79-4C1904B9C354","type":"EndpointBlock","disabled":false,"name":"setLoadScript","displayName":"Qlik Cloud Services - Set Load Script","comment":"Modify vu_rest_connection to point to the managed space.","childId":"D74E76BF-9B28-4A96-9E0B-08E630644184","inputs":[{"id":"917b8660-a12b-11ed-873f-fd156b9f0ebb","value":"{$.importAppFromBase64EncodedFile.attributes.id}","type":"string","structure":[]},{"id":"d31e0400-a12c-11ed-b43b-29c58fb1f869","value":"{ replace: {replace: {$.GetLoadScript.qScript}, ':DataFiles', 'D.{ $.inputs.'System ID prefix (1st digit)' } { $.inputs.'System name' }:DataFiles'}, 111, $.createScript.attributes.id }","type":"string","structure":[]},{"id":"0da08560-a12d-11ed-92bf-6146d9e01e80","value":null,"type":"string","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":120,"y":15240,"datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","endpoint_guid":"916661a0-a12b-11ed-882f-fb01a4e99b0a","endpoint_role":"create"},{"id":"217C0303-275B-4F6E-BAC9-86AFA8FEDF87","type":"ShowBlock","disabled":false,"name":"output14","displayName":"Output 14","comment":"Creating managed space (Data)","childId":"B4C2C2B9-063B-4AE5-BB12-5123784648DF","inputs":[{"id":"input","value":"| Spaces | Creating new managed space named `D.{$.inputs.'System ID prefix (1st digit)'} {$.inputs.'System name'}`... |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":240,"y":13600},{"id":"B4C2C2B9-063B-4AE5-BB12-5123784648DF","type":"EndpointBlock","disabled":false,"name":"createSpace6","displayName":"Qlik Cloud Services - Create Space 6","comment":"","childId":"A69EFE35-47DD-4E10-9FEA-1533B1B6D997","inputs":[{"id":"f0de69a0-6d24-11eb-8c07-ebadb5af2511","value":"D.{$.inputs.'System ID prefix (1st digit)'} {$.inputs.'System name'}","type":"string","structure":[]},{"id":"79771850-6d25-11eb-8021-177e65e81ac9","value":"76265e80-e93c-11ef-9956-d12e9f3ab09d","type":"select","displayValue":"data","structure":[]},{"id":"f0ecac30-6d24-11eb-a7b6-d15be2d36858","value":"Manged transform space for {$.inputs.'System name'}","type":"string","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":240,"y":13720,"datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","endpoint_guid":"f0c14620-6d24-11eb-aa67-c519e2671d3d","endpoint_role":"create"},{"id":"A69EFE35-47DD-4E10-9FEA-1533B1B6D997","type":"SleepBlock","disabled":false,"name":"sleep6","displayName":"Sleep 6","comment":"","childId":"D5EAA22F-BE5D-4F48-AD00-678C9F6A0477","inputs":[{"id":"time","value":"1","type":"string","structure":[]}],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":240,"y":13840},{"id":"D5EAA22F-BE5D-4F48-AD00-678C9F6A0477","type":"ShowBlock","disabled":false,"name":"output42","displayName":"Output 42","comment":"Space created.","childId":null,"inputs":[{"id":"input","value":"| Spaces | Space created. |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":240,"y":13960},{"id":"1E93738E-AD11-4FE7-98A1-105A7F2357D0","type":"ShowBlock","disabled":false,"name":"output15","displayName":"Output 15","comment":"Application imported","childId":"3183424B-A135-4611-ADBB-CB1C92A34297","inputs":[{"id":"input","value":"| Application | Editing script |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":120,"y":14880},{"id":"D74E76BF-9B28-4A96-9E0B-08E630644184","type":"ShowBlock","disabled":false,"name":"output17","displayName":"Output 17","comment":"Application imported","childId":"52B7AFBD-EE20-440A-B272-2A8FC1E4CD0C","inputs":[{"id":"input","value":"| Application | Script edited, path is now 'D.{$.inputs.'System ID prefix (1st digit)'} {$.inputs.'System name'}:DataFiles'  |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":120,"y":15360},{"id":"52B7AFBD-EE20-440A-B272-2A8FC1E4CD0C","type":"SleepBlock","disabled":false,"name":"sleep7","displayName":"Sleep 7","comment":"","childId":"BF959331-AE44-45E7-AB95-5E6985499E49","inputs":[{"id":"time","value":"1","type":"string","structure":[]}],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":120,"y":15480},{"id":"CEFF56AA-CD14-40F0-8A73-594B7E2EA743","type":"SnippetBlock","disabled":false,"name":"publishAppToManagedSpace","displayName":"Qlik Cloud Services - Publish App To Managed Space","comment":"","childId":"075BC777-A329-44EE-8D55-0EDDEDF736A7","inputs":[{"id":"a0ab6dc0-00e2-11ec-92c0-fb834a93ff56","value":"{ $.importAppFromBase64EncodedFile.attributes.id }","type":"string","structure":[]},{"id":"a0ad09d0-00e2-11ec-b2c8-8587b72a110a","value":"{ $.vManagedExtractSpaceID }","type":"string","structure":[]},{"id":"a0ad4d20-00e2-11ec-8cad-07ca8dd4b022","value":"target","type":"select","displayValue":"target","structure":[]},{"id":"03f6be80-22bf-11ec-bd94-cfe02119d15e","value":"Always publish","type":"select","displayValue":"Always publish","structure":[]},{"id":"e5b375a0-83ec-11ec-83cd-6d152b88c9ae","value":null,"type":"string","structure":[]},{"id":"e5b45230-83ec-11ec-8c07-d9449d54e6ff","value":null,"type":"string","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":120,"y":15720,"datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","snippet_guid":"76a45090-00e1-11ec-ad85-b3b86b5b9a24"},{"id":"BF959331-AE44-45E7-AB95-5E6985499E49","type":"ShowBlock","disabled":false,"name":"output18","displayName":"Output 18","comment":"Application imported","childId":"CEFF56AA-CD14-40F0-8A73-594B7E2EA743","inputs":[{"id":"input","value":"| Application | Publishing app to managed space..  |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":120,"y":15600},{"id":"075BC777-A329-44EE-8D55-0EDDEDF736A7","type":"ShowBlock","disabled":false,"name":"output19","displayName":"Output 19","comment":"Application imported","childId":"670E4042-BAB8-46FB-A345-2F2396AAE32A","inputs":[{"id":"input","value":"| Application | App published.  |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":120,"y":15840},{"id":"670E4042-BAB8-46FB-A345-2F2396AAE32A","type":"ShowBlock","disabled":false,"name":"output21","displayName":"Output 21","comment":"Extracting Application","childId":"D3F048FD-6CA2-4E86-932E-4D8A1626DCE9","inputs":[{"id":"input","value":"| Application | Importing application template (Transform) .. |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":120,"y":15960},{"id":"D3F048FD-6CA2-4E86-932E-4D8A1626DCE9","type":"CallUrlBlock","disabled":false,"name":"callURL2","displayName":"Call URL 2","comment":"Get Transform application\n","childId":"F445EC99-B06A-4C26-88EF-1A9094281308","inputs":[{"id":"url","value":"https://raw.githubusercontent.com/KarlRikardLarsson/QlikAutomations/refs/heads/main/DataFramework/Transform","type":"string","structure":[]},{"id":"method","value":"GET","type":"select","structure":[]},{"id":"timeout","value":"","type":"string","structure":[]},{"id":"params","value":[],"type":"object","mode":"keyValue","structure":[]},{"id":"headers","value":[],"type":"object","mode":"keyValue","structure":[]},{"id":"encoding","value":"","type":"string","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"full_response","value":null,"type":"checkbox","structure":[]},{"id":"capitalize_headers","value":true,"type":"checkbox","structure":[]},{"id":"automations_censor_data","value":true,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":120,"y":16080},{"id":"F445EC99-B06A-4C26-88EF-1A9094281308","type":"EndpointBlock","disabled":false,"name":"importAppFromBase64EncodedFile2","displayName":"Qlik Cloud Services - Import App From Base 64 Encoded File 2","comment":"","childId":"F94A63D5-3014-4E0E-95CE-9F66226FA0D6","inputs":[{"id":"09b520a0-7aa4-11eb-8143-cde65e595ead","value":"{ $.callURL2 }","type":"string","structure":[]},{"id":"19661000-67b1-11eb-b4c6-fb30d89c586f","value":"Transform {$.inputs.'System name'}","type":"string","structure":[]},{"id":"197675a0-67b1-11eb-b6f6-9ff3bc51ddbf","value":"{ $.vSharedTransformSpaceID }","type":"string","structure":[]},{"id":"4d3a3300-67b1-11eb-99af-3d55175faa9a","value":null,"type":"select","structure":[]},{"id":"ac4b58f0-67b1-11eb-8126-89d0cf328adb","value":null,"type":"string","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":120,"y":16200,"datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","endpoint_guid":"194b9430-67b1-11eb-9e04-6dbde84bea83","endpoint_role":"create"},{"id":"F94A63D5-3014-4E0E-95CE-9F66226FA0D6","type":"ShowBlock","disabled":false,"name":"output22","displayName":"Output 22","comment":"Application imported","childId":"0C03E9DE-B670-47A0-833C-CCA2EAFA1F32","inputs":[{"id":"input","value":"| Application | Application imported. |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":120,"y":16320},{"id":"0C03E9DE-B670-47A0-833C-CCA2EAFA1F32","type":"ShowBlock","disabled":false,"name":"output23","displayName":"Output 23","comment":"Application imported","childId":"9647A310-2F77-43D7-BC35-98E6A6F7DAB7","inputs":[{"id":"input","value":"| Application | Editing script |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":120,"y":16440},{"id":"9647A310-2F77-43D7-BC35-98E6A6F7DAB7","type":"SnippetBlock","disabled":false,"name":"GetLoadScript2","displayName":"Qlik Cloud Services - Get Load Script 2","comment":"Get the load script.","childId":"8D1DE327-0079-4BFC-B76A-80A5FC37EFD6","inputs":[{"id":"299dd6e0-7535-11eb-a1b1-8108a69d86b2","value":"{$.importAppFromBase64EncodedFile2.attributes.id}","type":"string","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":120,"y":16560,"datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","snippet_guid":"8d2f7da0-5028-11eb-8889-317a6c8ea7fc"},{"id":"8D1DE327-0079-4BFC-B76A-80A5FC37EFD6","type":"SleepBlock","disabled":false,"name":"sleep34","displayName":"Sleep 34","comment":"","childId":"4837B1EE-2E4A-4D7F-B43A-22F7757FD004","inputs":[{"id":"time","value":"1","type":"string","structure":[]}],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":120,"y":16680},{"id":"4837B1EE-2E4A-4D7F-B43A-22F7757FD004","type":"EndpointBlock","disabled":false,"name":"setLoadScript2","displayName":"Qlik Cloud Services - Set Load Script 2","comment":"Modify vu_rest_connection to point to the managed space.","childId":"6B568692-DED0-4294-A292-5C4CF37CE903","inputs":[{"id":"917b8660-a12b-11ed-873f-fd156b9f0ebb","value":"{$.importAppFromBase64EncodedFile2.attributes.id}","type":"string","structure":[]},{"id":"d31e0400-a12c-11ed-b43b-29c58fb1f869","value":"{ replace: {replace: {$.GetLoadScript2.qScript}, ':DataFiles', 'D.{ $.inputs.'System ID prefix (1st digit)' } { $.inputs.'System name' }:DataFiles'}, 111, $.createScript.attributes.id }","type":"string","structure":[]},{"id":"0da08560-a12d-11ed-92bf-6146d9e01e80","value":null,"type":"string","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":120,"y":16800,"datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","endpoint_guid":"916661a0-a12b-11ed-882f-fb01a4e99b0a","endpoint_role":"create"},{"id":"6B568692-DED0-4294-A292-5C4CF37CE903","type":"ShowBlock","disabled":false,"name":"output24","displayName":"Output 24","comment":"Application imported","childId":"0B94260E-2506-42FB-9C2C-8F3382C6C86F","inputs":[{"id":"input","value":"| Application | Script edited, path is now 'D.{$.inputs.'System ID prefix (1st digit)'} {$.inputs.'System name'}:DataFiles'  |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":120,"y":16920},{"id":"0B94260E-2506-42FB-9C2C-8F3382C6C86F","type":"SleepBlock","disabled":false,"name":"sleep10","displayName":"Sleep 10","comment":"","childId":"01DCD1D6-C2F7-4BE7-875C-88EACE7DECD8","inputs":[{"id":"time","value":"1","type":"string","structure":[]}],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":120,"y":17040},{"id":"01DCD1D6-C2F7-4BE7-875C-88EACE7DECD8","type":"ShowBlock","disabled":false,"name":"output25","displayName":"Output 25","comment":"Application imported","childId":"EC0B75DB-E8EF-49BB-B428-8CE4E22BECE1","inputs":[{"id":"input","value":"| Application | Publishing app to managed space..  |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":120,"y":17160},{"id":"EC0B75DB-E8EF-49BB-B428-8CE4E22BECE1","type":"SnippetBlock","disabled":false,"name":"publishAppToManagedSpace2","displayName":"Qlik Cloud Services - Publish App To Managed Space 2","comment":"","childId":"E56A5957-0D06-4B7A-ADFE-758AD9E8DBCF","inputs":[{"id":"a0ab6dc0-00e2-11ec-92c0-fb834a93ff56","value":"{ $.importAppFromBase64EncodedFile2.attributes.id }","type":"string","structure":[]},{"id":"a0ad09d0-00e2-11ec-b2c8-8587b72a110a","value":"{ $.vManagedTransformSpaceID }","type":"string","structure":[]},{"id":"a0ad4d20-00e2-11ec-8cad-07ca8dd4b022","value":"target","type":"select","displayValue":"target","structure":[]},{"id":"03f6be80-22bf-11ec-bd94-cfe02119d15e","value":"Always publish","type":"select","displayValue":"Always publish","structure":[]},{"id":"e5b375a0-83ec-11ec-83cd-6d152b88c9ae","value":null,"type":"string","structure":[]},{"id":"e5b45230-83ec-11ec-8c07-d9449d54e6ff","value":null,"type":"string","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":120,"y":17280,"datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","snippet_guid":"76a45090-00e1-11ec-ad85-b3b86b5b9a24"},{"id":"E56A5957-0D06-4B7A-ADFE-758AD9E8DBCF","type":"ShowBlock","disabled":false,"name":"output26","displayName":"Output 26","comment":"Application Published","childId":"0785EC3E-78A6-41F7-9BFA-E6C607E1CCF3","inputs":[{"id":"input","value":"| Application | App published.  |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":120,"y":17400},{"id":"22B14AFF-9AA1-4347-AE77-61CF82360101","type":"EndpointBlock","disabled":false,"name":"createAutomation2","displayName":"Qlik Cloud Services - Create Automation 2","comment":"","childId":"97396537-5BEF-43E8-82C5-7692FDFC6A12","inputs":[{"id":"232befc0-d025-11ec-a748-91ccd794dccb","value":"{$.inputs.'System name'} Reload Automation","type":"string","structure":[]},{"id":"2a202480-d025-11ec-9540-7766f5f4a17f","value":"Reloads Qlik apps layer by layer (Extract ‚Üí Transform ‚Üí Consumption)","type":"string","structure":[]},{"id":"20409e30-2833-11ed-bc5f-f13e86c5c276","value":"{ $.customCode2 }","type":"string","structure":[]},{"id":"2b723a50-2833-11ed-a670-b786f7e00bcc","value":null,"type":"string","structure":[]},{"id":"23518c10-6ba4-11f0-b8b7-3d5c6919a381","value":null,"type":"string","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":360,"y":21080,"datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","endpoint_guid":"fb79f2d0-d024-11ec-b5a3-394cdb5edde2","endpoint_role":"create"},{"id":"580431D7-EF66-4592-8086-4D781240F7FD","type":"CustomCodeBlock3","disabled":false,"name":"customCode2","displayName":"Custom Code 2","comment":"","childId":"22B14AFF-9AA1-4347-AE77-61CF82360101","inputs":[{"id":"language","value":"python","type":"select","displayValue":"Python 3.11","structure":[]},{"id":"inputs","value":[{"key":"Automation","value":"{ $.callURL3 }"},{"key":"ReloadSpace","value":"{ $.vReloadSpaces }"}],"type":"object","mode":"keyValue","structure":[]},{"id":"code","value":"import json\n\n# Example input values (these would typically come from inputs in a real script)\nOriginalAutomation = inputs['Automation']\nUpdatedAutomation = inputs['ReloadSpace']\n\n# Convert to string if not already (JSON input is assumed to be a string)\nif isinstance(OriginalAutomation, dict):\n    OriginalAutomation = json.dumps(OriginalAutomation)\n\n# Replace the original GUID with the new backup space GUID\nreplaced_json_str = OriginalAutomation.replace(\"670e0627c84d4976aecf2748\", UpdatedAutomation)\n\n# Optional: parse back to JSON if needed\nUpdatedJson = json.loads(replaced_json_str)\n\n# Print or return the updated JSON\nprint(json.dumps(UpdatedJson, indent=2))\n","type":"code","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":360,"y":20960},{"id":"1EA7C915-DA9D-4497-A71A-941D60F5AD6C","type":"CallUrlBlock","disabled":false,"name":"callURL3","displayName":"Call URL 3","comment":"Get reload automation\n","childId":"580431D7-EF66-4592-8086-4D781240F7FD","inputs":[{"id":"url","value":"https://raw.githubusercontent.com/KarlRikardLarsson/QlikAutomations/refs/heads/main/DataFramework/Reload-Par","type":"string","structure":[]},{"id":"method","value":"GET","type":"select","structure":[]},{"id":"timeout","value":"","type":"string","structure":[]},{"id":"params","value":[],"type":"object","mode":"keyValue","structure":[]},{"id":"headers","value":[],"type":"object","mode":"keyValue","structure":[]},{"id":"encoding","value":"","type":"string","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"full_response","value":null,"type":"checkbox","structure":[]},{"id":"capitalize_headers","value":true,"type":"checkbox","structure":[]},{"id":"automations_censor_data","value":true,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":360,"y":20840},{"id":"2DC4A238-AD36-4846-B10B-B9277CB9F761","type":"ShowBlock","disabled":false,"name":"output27","displayName":"Output 27","comment":"Creating new automation","childId":"1EA7C915-DA9D-4497-A71A-941D60F5AD6C","inputs":[{"id":"input","value":"| Reload Automation | Installing '{$.inputs.'System name'} Reload Automation'... |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":360,"y":20720},{"id":"265E4229-F39E-499C-8A34-31454C995E23","type":"IfElseBlock","disabled":false,"name":"condition9","displayName":"Condition 9","comment":"","childId":null,"inputs":[{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"{ $.inputs.'Setup reload automation' }","input2":"No ‚Äì Don't install any automation for reloads","operator":"!="}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"both","isCollapsed":false},{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":true}],"x":120,"y":20560,"childTrueId":"EF72FD5A-17AF-499E-93C6-30F27D4E6685","childFalseId":null},{"id":"EF72FD5A-17AF-499E-93C6-30F27D4E6685","type":"IfElseBlock","disabled":false,"name":"condition10","displayName":"Condition 10","comment":"","childId":null,"inputs":[{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"{ $.inputs.'Setup reload automation' }","input2":"Parallel (by space) ‚Äì Reload apps in parallel grouped by space","operator":"="}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"both","isCollapsed":false},{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":false}],"x":240,"y":20640,"childTrueId":"2DC4A238-AD36-4846-B10B-B9277CB9F761","childFalseId":"7AFAB07D-7EEC-4F26-9556-56C968DF3B75"},{"id":"3610D0E1-DEF1-4031-812D-2610C933453A","type":"VariableBlock","disabled":false,"name":"vReloadSpaces","displayName":"Variable - vReloadSpaces","comment":"","childId":null,"inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":240,"y":17600,"variableGuid":"8DCE0444-A76B-4D9D-9163-E735F7BCB9EF","operations":[{"id":"set_value","key":"FFC8ABDB-0C7E-4102-8A6B-87C6863E8DC2","name":"Set value of { variable }","value":"{ $.vManagedExtractSpaceID },{ $.vManagedTransformSpaceID }"}]},{"id":"EA1E21E1-D3FF-4C2A-A260-BB118C9BABD8","type":"ShowBlock","disabled":false,"name":"output28","displayName":"Output 28","comment":"Creating new shared space","childId":null,"inputs":[{"id":"input","value":"| Reload Automation | Automation installed. |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":360,"y":21320},{"id":"7AFAB07D-7EEC-4F26-9556-56C968DF3B75","type":"ShowBlock","disabled":false,"name":"output30","displayName":"Output 30","comment":"Creating new automation","childId":"44841CF1-6A75-4140-8D0B-FC906243F889","inputs":[{"id":"input","value":"| Reload Automation | Installing '{$.inputs.'System name'} Reload Automation'... |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":360,"y":21480},{"id":"44841CF1-6A75-4140-8D0B-FC906243F889","type":"CallUrlBlock","disabled":false,"name":"callURL5","displayName":"Call URL 5","comment":"Get reload automation\n","childId":"6F16209B-AAB8-4BCB-91F0-672D6228E864","inputs":[{"id":"url","value":"https://raw.githubusercontent.com/KarlRikardLarsson/QlikAutomations/refs/heads/main/DataFramework/Reload-Seq","type":"string","structure":[]},{"id":"method","value":"GET","type":"select","structure":[]},{"id":"timeout","value":"","type":"string","structure":[]},{"id":"params","value":[],"type":"object","mode":"keyValue","structure":[]},{"id":"headers","value":[],"type":"object","mode":"keyValue","structure":[]},{"id":"encoding","value":"","type":"string","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"full_response","value":null,"type":"checkbox","structure":[]},{"id":"capitalize_headers","value":true,"type":"checkbox","structure":[]},{"id":"automations_censor_data","value":true,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":360,"y":21600},{"id":"6F16209B-AAB8-4BCB-91F0-672D6228E864","type":"CustomCodeBlock3","disabled":false,"name":"customCode3","displayName":"Custom Code 3","comment":"","childId":"516DE624-7CC1-42FC-A54C-1FDC7518AA45","inputs":[{"id":"language","value":"python","type":"select","displayValue":"Python 3.11","structure":[]},{"id":"inputs","value":[{"key":"Automation","value":"{ $.callURL5 }"},{"key":"ReloadApps","value":"{ $.vReloadApps }"}],"type":"object","mode":"keyValue","structure":[]},{"id":"code","value":"import json\n\n# Example input values (these would typically come from inputs in a real script)\nOriginalAutomation = inputs['Automation']\nUpdatedAutomation = inputs['ReloadApps']\n\n# Convert to string if not already (JSON input is assumed to be a string)\nif isinstance(OriginalAutomation, dict):\n    OriginalAutomation = json.dumps(OriginalAutomation)\n\n# Replace the original GUID with the new backup space GUID\nreplaced_json_str = OriginalAutomation.replace(\"670e0627c84d4976aecf2748\", UpdatedAutomation)\n\n# Optional: parse back to JSON if needed\nUpdatedJson = json.loads(replaced_json_str)\n\n# Print or return the updated JSON\nprint(json.dumps(UpdatedJson, indent=2))\n","type":"code","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":360,"y":21720},{"id":"516DE624-7CC1-42FC-A54C-1FDC7518AA45","type":"EndpointBlock","disabled":false,"name":"createAutomation3","displayName":"Qlik Cloud Services - Create Automation 3","comment":"","childId":"32EF7DA9-DC11-4ACE-8490-106377A2A98E","inputs":[{"id":"232befc0-d025-11ec-a748-91ccd794dccb","value":"{$.inputs.'System name'} Reload Automation","type":"string","structure":[]},{"id":"2a202480-d025-11ec-9540-7766f5f4a17f","value":"Reloads Qlik apps one by one (App 1 ‚Üí App 2 ‚Üí App 3...)","type":"string","structure":[]},{"id":"20409e30-2833-11ed-bc5f-f13e86c5c276","value":"{ $.callURL5 }","type":"string","structure":[]},{"id":"2b723a50-2833-11ed-a670-b786f7e00bcc","value":null,"type":"string","structure":[]},{"id":"23518c10-6ba4-11f0-b8b7-3d5c6919a381","value":null,"type":"string","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":360,"y":21840,"datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","endpoint_guid":"fb79f2d0-d024-11ec-b5a3-394cdb5edde2","endpoint_role":"create"},{"id":"DD098C09-8278-455E-A434-A43214FCE0EF","type":"ShowBlock","disabled":false,"name":"output31","displayName":"Output 31","comment":"Creating new shared space","childId":null,"inputs":[{"id":"input","value":"| Reload Automation | Automation installed. |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":360,"y":22080},{"id":"C294DFAC-A9AC-402F-B6C9-52543CB17D49","type":"VariableBlock","disabled":false,"name":"vReloadApps","displayName":"Variable - vReloadApps","comment":"","childId":"F6B1F4CF-AB2B-4F5B-B6B1-E5A46575F674","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":120,"y":17920,"variableGuid":"2B11FB22-79DF-4702-9AF5-FFFD2A38AD2B","operations":[{"id":"set_value","key":"FFC8ABDB-0C7E-4102-8A6B-87C6863E8DC2","name":"Set value of { variable }","value":"{ $.publishAppToManagedSpace.attributes.id },{ $.publishAppToManagedSpace2.attributes.id }"}]},{"id":"32EF7DA9-DC11-4ACE-8490-106377A2A98E","type":"SnippetBlock","disabled":false,"name":"updateAutomationSchedule","displayName":"Qlik Cloud Services - Update Automation Schedule","comment":"","childId":"DD098C09-8278-455E-A434-A43214FCE0EF","inputs":[{"id":"f0b12280-28fb-11ed-8217-cd657792e47c","value":"{ $.createAutomation3.id }","type":"string","structure":[]},{"id":"4237f130-28f6-11ed-a5cb-3b53fd2d8c75","value":"{date: 'now', 'Y-m-d H:i:s'}","type":"string","structure":[]},{"id":"42389250-28f6-11ed-aa49-f5ae22971bc0","value":null,"type":"string","structure":[]},{"id":"dbe6e7a0-29bf-11ed-a929-e365a6636d56","value":"Day","type":"select","displayValue":"Day","structure":[]},{"id":"a6f36620-2d0d-11ed-accd-f1badd483421","value":"Europe/Stockholm","type":"string","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":360,"y":21960,"datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","snippet_guid":"a9fa1c70-28f3-11ed-8e69-45555c333cd6"},{"id":"97396537-5BEF-43E8-82C5-7692FDFC6A12","type":"SnippetBlock","disabled":false,"name":"updateAutomationSchedule2","displayName":"Qlik Cloud Services - Update Automation Schedule 2","comment":"","childId":"EA1E21E1-D3FF-4C2A-A260-BB118C9BABD8","inputs":[{"id":"f0b12280-28fb-11ed-8217-cd657792e47c","value":"{ $.createAutomation2.id }","type":"string","structure":[]},{"id":"4237f130-28f6-11ed-a5cb-3b53fd2d8c75","value":"{date: 'now', 'Y-m-d H:i:s'}","type":"string","structure":[]},{"id":"42389250-28f6-11ed-aa49-f5ae22971bc0","value":null,"type":"string","structure":[]},{"id":"dbe6e7a0-29bf-11ed-a929-e365a6636d56","value":"Day","type":"select","displayValue":"Day","structure":[]},{"id":"a6f36620-2d0d-11ed-accd-f1badd483421","value":"Europe/Stockholm","type":"string","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":360,"y":21200,"datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","snippet_guid":"a9fa1c70-28f3-11ed-8e69-45555c333cd6"},{"id":"6AEBA323-45BF-4CAF-9428-18BC95020392","type":"FilterListBlock","disabled":false,"name":"filterList2","displayName":"Filter over Qlik Cloud Services - List Spaces - Filter List 2","comment":"Filter down to see if space name already exists.","childId":"C0C6DA9B-8D07-45B3-A428-C10919E2E9B3","inputs":[{"id":"list","value":"{ $.listSpaces }","type":"string","structure":[]},{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"name","input2":"{$.inputs.'System ID prefix (1st digit)'}.1.1 Extract {$.inputs.'System name'} TEST","operator":"="}]},"type":"custom","structure":[]}],"settings":[{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":true}],"x":120,"y":5160,"loopBlockId":null},{"id":"C0C6DA9B-8D07-45B3-A428-C10919E2E9B3","type":"IfElseBlock","disabled":false,"name":"condition11","displayName":"Condition 11","comment":"","childId":"7CBBF03B-1AE9-41DB-B440-5E3DE9BAB034","inputs":[{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"{ $.filterList2 }","input2":null,"operator":"empty"}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"both","isCollapsed":false},{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":false}],"x":120,"y":5280,"childTrueId":"595D67FE-9998-4976-98E2-E645A69E9EFA","childFalseId":"9DDD538B-5043-4454-A5B0-4B9E4E0D3F11"},{"id":"9DDD538B-5043-4454-A5B0-4B9E4E0D3F11","type":"ShowBlock","disabled":false,"name":"output32","displayName":"Output 32","comment":"Creating shared space (Extact)","childId":"54D890EF-2F3F-4026-83DF-6A15EBC84118","inputs":[{"id":"input","value":"| Spaces | Space already exists! `{$.inputs.'System ID prefix (1st digit)'}.1.1 Extract {$.inputs.'System name'} TEST`.. |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":240,"y":5880},{"id":"54D890EF-2F3F-4026-83DF-6A15EBC84118","type":"ShowBlock","disabled":false,"name":"output33","displayName":"Output 33","comment":"Creating shared space (Extact)","childId":"0A03C154-9766-4470-A023-944E5B787E84","inputs":[{"id":"input","value":"| Spaces | Using old one... |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":240,"y":6000},{"id":"49E91B27-FD80-49CE-A911-31DDDD676F07","type":"FilterListBlock","disabled":false,"name":"filterList3","displayName":"Filter over Qlik Cloud Services - List Spaces - Filter List 3","comment":"Filter down to see if space name already exists.","childId":"0DAA7817-FA56-46A5-B1AF-55CD86719AFF","inputs":[{"id":"list","value":"{ $.listSpaces }","type":"string","structure":[]},{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"name","input2":"{$.inputs.'System ID prefix (1st digit)'}.1.1 Extract {$.inputs.'System name'} PROD","operator":"="}]},"type":"custom","structure":[]}],"settings":[{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":true}],"x":240,"y":6480,"loopBlockId":null},{"id":"0DAA7817-FA56-46A5-B1AF-55CD86719AFF","type":"IfElseBlock","disabled":false,"name":"condition12","displayName":"Condition 12","comment":"","childId":null,"inputs":[{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"{ $.filterList3 }","input2":null,"operator":"empty"}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"both","isCollapsed":false},{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":false}],"x":240,"y":6600,"childTrueId":"548842E5-C687-4280-B35B-8403A5EDDD00","childFalseId":"71F202C0-A2AA-40AA-977F-EBF6FEB3603D"},{"id":"C92BBBF9-88D5-42F6-928C-FDC829E19063","type":"ShowBlock","disabled":false,"name":"output34","displayName":"Output 34","comment":"Creating shared space (Extact)","childId":"834F6056-1771-4B22-83BA-06EFCCE5FB93","inputs":[{"id":"input","value":"| Spaces | Using old one... |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":360,"y":7440},{"id":"71F202C0-A2AA-40AA-977F-EBF6FEB3603D","type":"ShowBlock","disabled":false,"name":"output35","displayName":"Output 35","comment":"Creating managed space (Extact)","childId":"C92BBBF9-88D5-42F6-928C-FDC829E19063","inputs":[{"id":"input","value":"| Spaces | Space already exists! `{$.inputs.'System ID prefix (1st digit)'}.1.1 Extract {$.inputs.'System name'} PROD`... |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":360,"y":7320},{"id":"4B30394C-92E1-4D60-B4D8-3A9837086F14","type":"FilterListBlock","disabled":false,"name":"filterList4","displayName":"Filter over Qlik Cloud Services - List Spaces - Filter List 4","comment":"Filter down to see if space name already exists.","childId":"E9B563D4-25FB-4573-BA02-FE3A26238CB4","inputs":[{"id":"list","value":"{ $.listSpaces }","type":"string","structure":[]},{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"name","input2":"{$.inputs.'System ID prefix (1st digit)'}.2.1 Transform {$.inputs.'System name'} TEST","operator":"="}]},"type":"custom","structure":[]}],"settings":[{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":true}],"x":120,"y":9120,"loopBlockId":null},{"id":"E9B563D4-25FB-4573-BA02-FE3A26238CB4","type":"IfElseBlock","disabled":false,"name":"condition13","displayName":"Condition 13","comment":"","childId":"6525B7FD-DC2F-4BA2-99F8-3DD7B53D73B3","inputs":[{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"{ $.filterList4 }","input2":null,"operator":"empty"}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"both","isCollapsed":false},{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":false}],"x":120,"y":9240,"childTrueId":"0818DC6B-ECC0-457F-8CC8-950450135027","childFalseId":"845A750C-96D1-408E-B0BD-19E935B2DE20"},{"id":"845A750C-96D1-408E-B0BD-19E935B2DE20","type":"ShowBlock","disabled":false,"name":"output36","displayName":"Output 36","comment":"Creating shared space (Transform)","childId":"14466022-4DD6-4C92-825E-3545FF8747ED","inputs":[{"id":"input","value":"| Spaces | Space already exsists! `{$.inputs.'System ID prefix (1st digit)'}.2.1 {$.inputs.'System name'} Transform TEST`... |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":240,"y":9960},{"id":"14466022-4DD6-4C92-825E-3545FF8747ED","type":"ShowBlock","disabled":false,"name":"output43","displayName":"Output 43","comment":"Space created.","childId":"9CBB2B16-8C86-4AF9-9AE1-CFF107CB5E00","inputs":[{"id":"input","value":"| Spaces | Using old one... |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":240,"y":10080},{"id":"459D09CD-0EDE-4B0D-9878-1D290DFB115A","type":"FilterListBlock","disabled":false,"name":"filterList5","displayName":"Filter over Qlik Cloud Services - List Spaces - Filter List 5","comment":"Filter down to see if space name already exists.","childId":"F0BE56E6-777F-4BE9-B96F-E7F3141163FF","inputs":[{"id":"list","value":"{ $.listSpaces }","type":"string","structure":[]},{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"name","input2":"{$.inputs.'System ID prefix (1st digit)'}.2.1 Transform {$.inputs.'System name'} PROD","operator":"="}]},"type":"custom","structure":[]}],"settings":[{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":true}],"x":240,"y":10440,"loopBlockId":null},{"id":"F0BE56E6-777F-4BE9-B96F-E7F3141163FF","type":"IfElseBlock","disabled":false,"name":"condition14","displayName":"Condition 14","comment":"","childId":null,"inputs":[{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"{ $.filterList5 }","input2":null,"operator":"empty"}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"both","isCollapsed":false},{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":false}],"x":240,"y":10560,"childTrueId":"54850D52-028B-46F8-BE29-BE0A647C0A48","childFalseId":"A93154B1-0596-425D-9EA0-5D444A32A377"},{"id":"A93154B1-0596-425D-9EA0-5D444A32A377","type":"ShowBlock","disabled":false,"name":"output44","displayName":"Output 44","comment":"Creating managed space (Transform)","childId":"C40E56B2-3888-484A-822B-A6F6E809D95A","inputs":[{"id":"input","value":"| Spaces | Space already exsists! `{$.inputs.'System ID prefix (1st digit)'}.2.1 Transform {$.inputs.'System name'} PROD`... |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":360,"y":11280},{"id":"C40E56B2-3888-484A-822B-A6F6E809D95A","type":"ShowBlock","disabled":false,"name":"output46","displayName":"Output 46","comment":"Space created.","childId":"AAAA117D-5A13-4EA7-AC79-81060524F6E2","inputs":[{"id":"input","value":"| Spaces | Using old one... |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":360,"y":11400},{"id":"755B15AE-AA34-49DD-8C1F-BE6420A115E3","type":"FilterListBlock","disabled":false,"name":"filterList6","displayName":"Filter over Qlik Cloud Services - List Spaces - Filter List 6","comment":"Filter down to see if space name already exists.","childId":"D327D340-3833-4D1A-A872-3FA80F25572C","inputs":[{"id":"list","value":"{ $.listSpaces }","type":"string","structure":[]},{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"name","input2":"D.{$.inputs.'System ID prefix (1st digit)'} {$.inputs.'System name'}","operator":"="}]},"type":"custom","structure":[]}],"settings":[{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":true}],"x":120,"y":13400,"loopBlockId":null},{"id":"D327D340-3833-4D1A-A872-3FA80F25572C","type":"IfElseBlock","disabled":false,"name":"condition15","displayName":"Condition 15","comment":"","childId":"00FF08F1-0039-4BC9-A706-3958F83A1F9A","inputs":[{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"{ $.filterList6 }","input2":null,"operator":"empty"}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"both","isCollapsed":false},{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":false}],"x":120,"y":13520,"childTrueId":"217C0303-275B-4F6E-BAC9-86AFA8FEDF87","childFalseId":"BF699AF6-1974-4873-8CB1-CD845B12B2F0"},{"id":"BF699AF6-1974-4873-8CB1-CD845B12B2F0","type":"ShowBlock","disabled":false,"name":"output47","displayName":"Output 47","comment":"Creating managed space (Transform)","childId":"135C7718-AA1D-4FFF-9132-4222AD5DEDB1","inputs":[{"id":"input","value":"| Spaces | Space already exsists! `D.{$.inputs.'System ID prefix (1st digit)'} {$.inputs.'System name'}`... |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":240,"y":14120},{"id":"135C7718-AA1D-4FFF-9132-4222AD5DEDB1","type":"ShowBlock","disabled":false,"name":"output48","displayName":"Output 48","comment":"Space created.","childId":null,"inputs":[{"id":"input","value":"| Spaces | Using old one... |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":240,"y":14240},{"id":"D55D01F4-DFAE-4A9A-855D-6AE9FBFA7BFB","type":"VariableBlock","disabled":false,"name":"vManagedExtractSpaceID","displayName":"Variable - vManagedExtractSpaceID","comment":"","childId":null,"inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":360,"y":7160,"variableGuid":"72574781-E7B9-49DB-A343-13841D4D8EDA","operations":[{"id":"set_value","key":"A76B4003-2EA0-4255-9C26-1946F5E1CFBD","name":"Set value of { variable }","value":"{ $.createSpace3.id }"}]},{"id":"834F6056-1771-4B22-83BA-06EFCCE5FB93","type":"VariableBlock","disabled":false,"name":"vManagedExtractSpaceID","displayName":"Variable - vManagedExtractSpaceID","comment":"","childId":null,"inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":360,"y":7560,"variableGuid":"72574781-E7B9-49DB-A343-13841D4D8EDA","operations":[{"id":"set_value","key":"A76B4003-2EA0-4255-9C26-1946F5E1CFBD","name":"Set value of { variable }","value":"{ $.filterList3[0].id }"}]},{"id":"79452492-1251-456E-89E4-88575AC3F5F8","type":"VariableBlock","disabled":false,"name":"vManagedTransformSpaceID","displayName":"Variable - vManagedTransformSpaceID","comment":"","childId":null,"inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":360,"y":11120,"variableGuid":"3DA66F7A-F8E4-44D3-A16F-8DB0E63EF87A","operations":[{"id":"set_value","key":"A76B4003-2EA0-4255-9C26-1946F5E1CFBD","name":"Set value of { variable }","value":"{ $.createSpace4.id }"}]},{"id":"AAAA117D-5A13-4EA7-AC79-81060524F6E2","type":"VariableBlock","disabled":false,"name":"vManagedTransformSpaceID","displayName":"Variable - vManagedTransformSpaceID","comment":"","childId":null,"inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":360,"y":11520,"variableGuid":"3DA66F7A-F8E4-44D3-A16F-8DB0E63EF87A","operations":[{"id":"set_value","key":"A76B4003-2EA0-4255-9C26-1946F5E1CFBD","name":"Set value of { variable }","value":"{ $.filterList5[0].id }"}]},{"id":"6537567E-3238-4D23-B12F-5FDDC82A2FBA","type":"VariableBlock","disabled":false,"name":"vSharedExtractSpaceID","displayName":"Variable - vSharedExtractSpaceID","comment":"","childId":"C40452A1-9BC9-4F73-92D5-4AEDC8B3CA52","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":240,"y":5600,"variableGuid":"2C9DD5EE-4A01-442F-B558-7EC1FA9E8B38","operations":[{"id":"set_value","key":"A76B4003-2EA0-4255-9C26-1946F5E1CFBD","name":"Set value of { variable }","value":"{ $.createSpace2.id }"}]},{"id":"0A03C154-9766-4470-A023-944E5B787E84","type":"VariableBlock","disabled":false,"name":"vSharedExtractSpaceID","displayName":"Variable - vSharedExtractSpaceID","comment":"","childId":null,"inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":240,"y":6120,"variableGuid":"2C9DD5EE-4A01-442F-B558-7EC1FA9E8B38","operations":[{"id":"set_value","key":"A76B4003-2EA0-4255-9C26-1946F5E1CFBD","name":"Set value of { variable }","value":"{ $.filterList2[0].id }"}]},{"id":"CA764CAE-32A0-4D45-8708-396FAE37F9CA","type":"VariableBlock","disabled":false,"name":"vSharedTransformSpaceID","displayName":"Variable - vSharedTransformSpaceID","comment":"","childId":"226DDC7E-12EB-4EFD-AC1C-96A66F9AA137","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":240,"y":9680,"variableGuid":"6C01CD34-F1F0-41D9-A325-847E96B6512A","operations":[{"id":"set_value","key":"527C42B2-4B1A-45F5-B040-5F4D8B52F4A4","name":"Set value of { variable }","value":"{ $.createSpace5.id }"}]},{"id":"9CBB2B16-8C86-4AF9-9AE1-CFF107CB5E00","type":"VariableBlock","disabled":false,"name":"vSharedTransformSpaceID","displayName":"Variable - vSharedTransformSpaceID","comment":"","childId":null,"inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":240,"y":10200,"variableGuid":"6C01CD34-F1F0-41D9-A325-847E96B6512A","operations":[{"id":"set_value","key":"527C42B2-4B1A-45F5-B040-5F4D8B52F4A4","name":"Set value of { variable }","value":"{ $.filterList4[0].id }"}]},{"id":"48A7C7CA-56A7-4CAA-A49D-C2643688F223","type":"IfElseBlock","disabled":false,"name":"condition16","displayName":"Condition 16","comment":"","childId":"4B30394C-92E1-4D60-B4D8-3A9837086F14","inputs":[{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"{ $.inputs.'What type of Architecture?' }","input2":"Extract + Transform (separate managed space)","operator":"="}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"both","isCollapsed":false},{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":false}],"x":120,"y":6400,"childTrueId":"49E91B27-FD80-49CE-A911-31DDDD676F07","childFalseId":"3BC148C6-279B-4533-9278-87536E06AE61"},{"id":"3BC148C6-279B-4533-9278-87536E06AE61","type":"FilterListBlock","disabled":false,"name":"filterList7","displayName":"Filter over Qlik Cloud Services - List Spaces - Filter List 7","comment":"Filter down to see if space name already exists.","childId":"360108E2-67D1-4CA1-B9B6-5A533354A6C7","inputs":[{"id":"list","value":"{ $.listSpaces }","type":"string","structure":[]},{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"name","input2":"Extract & Transform {$.inputs.'System name'} PROD","operator":"="}]},"type":"custom","structure":[]}],"settings":[{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":true}],"x":240,"y":7800,"loopBlockId":null},{"id":"360108E2-67D1-4CA1-B9B6-5A533354A6C7","type":"IfElseBlock","disabled":false,"name":"condition17","displayName":"Condition 17","comment":"","childId":null,"inputs":[{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"{ $.filterList7 }","input2":null,"operator":"empty"}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"both","isCollapsed":false},{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":false}],"x":240,"y":7920,"childTrueId":"6D58D94F-2952-432F-9BCD-7BDDA1C0F886","childFalseId":"18A4D8A1-F630-4541-8B4B-EC6707CD9AC5"},{"id":"6D58D94F-2952-432F-9BCD-7BDDA1C0F886","type":"ShowBlock","disabled":false,"name":"output49","displayName":"Output 49","comment":"Creating managed space (Extact)","childId":"374B396F-84DB-4BC6-92FE-1916B08A21C4","inputs":[{"id":"input","value":"| Spaces | Creating new managed space named `Extract & Transform {$.inputs.'System name'} PROD`... |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":360,"y":8000},{"id":"374B396F-84DB-4BC6-92FE-1916B08A21C4","type":"EndpointBlock","disabled":false,"name":"createSpace7","displayName":"Qlik Cloud Services - Create Space 7","comment":"","childId":"154581AE-A50D-4C47-9DD2-41E224A3ACA2","inputs":[{"id":"f0de69a0-6d24-11eb-8c07-ebadb5af2511","value":"Extract & Transform {$.inputs.'System name'} PROD","type":"string","structure":[]},{"id":"79771850-6d25-11eb-8021-177e65e81ac9","value":"85124350-6d25-11eb-b175-b765e6d02c86","type":"select","displayValue":"managed","structure":[]},{"id":"f0ecac30-6d24-11eb-a7b6-d15be2d36858","value":"Manged extract & transform space for {$.inputs.'System name'}","type":"string","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":360,"y":8120,"datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","endpoint_guid":"f0c14620-6d24-11eb-aa67-c519e2671d3d","endpoint_role":"create"},{"id":"154581AE-A50D-4C47-9DD2-41E224A3ACA2","type":"SleepBlock","disabled":false,"name":"sleep11","displayName":"Sleep 11","comment":"","childId":"D629C24E-039E-4414-86A4-09034B97FEE9","inputs":[{"id":"time","value":"1","type":"string","structure":[]}],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":360,"y":8240},{"id":"D629C24E-039E-4414-86A4-09034B97FEE9","type":"ShowBlock","disabled":false,"name":"output50","displayName":"Output 50","comment":"Space created.","childId":"5B7CE7CA-5AA2-4990-9BA8-AC889A659377","inputs":[{"id":"input","value":"| Spaces | Space created. |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":360,"y":8360},{"id":"5B7CE7CA-5AA2-4990-9BA8-AC889A659377","type":"VariableBlock","disabled":false,"name":"vManagedExtractSpaceID","displayName":"Variable - vManagedExtractSpaceID","comment":"","childId":null,"inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":360,"y":8480,"variableGuid":"72574781-E7B9-49DB-A343-13841D4D8EDA","operations":[{"id":"set_value","key":"A76B4003-2EA0-4255-9C26-1946F5E1CFBD","name":"Set value of { variable }","value":"{ $.createSpace7.id }"}]},{"id":"18A4D8A1-F630-4541-8B4B-EC6707CD9AC5","type":"ShowBlock","disabled":false,"name":"output51","displayName":"Output 51","comment":"Creating managed space (Extact)","childId":"E8DFCF96-01B3-4489-98B1-DCACD56E64ED","inputs":[{"id":"input","value":"| Spaces | Space already exists! `Extract & Transform {$.inputs.'System name'} PROD`... |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":360,"y":8640},{"id":"E8DFCF96-01B3-4489-98B1-DCACD56E64ED","type":"ShowBlock","disabled":false,"name":"output52","displayName":"Output 52","comment":"Creating shared space (Extact)","childId":"0F3464A8-0488-4D1F-9616-C2897E619005","inputs":[{"id":"input","value":"| Spaces | Using old one... |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":360,"y":8760},{"id":"0F3464A8-0488-4D1F-9616-C2897E619005","type":"VariableBlock","disabled":false,"name":"vManagedExtractSpaceID","displayName":"Variable - vManagedExtractSpaceID","comment":"","childId":null,"inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":360,"y":8880,"variableGuid":"72574781-E7B9-49DB-A343-13841D4D8EDA","operations":[{"id":"set_value","key":"A76B4003-2EA0-4255-9C26-1946F5E1CFBD","name":"Set value of { variable }","value":"{ $.filterList7[0].id }"}]},{"id":"6525B7FD-DC2F-4BA2-99F8-3DD7B53D73B3","type":"IfElseBlock","disabled":false,"name":"condition18","displayName":"Condition 18","comment":"","childId":"C05B46E0-6A96-4BED-A326-3BE90ED6072E","inputs":[{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"{ $.inputs.'What type of Architecture?' }","input2":"Extract + Transform (separate managed space)","operator":"="}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"both","isCollapsed":false},{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":false}],"x":120,"y":10360,"childTrueId":"459D09CD-0EDE-4B0D-9878-1D290DFB115A","childFalseId":"D48E0CF3-8C75-4A7B-8C94-20CAFF4FE201"},{"id":"D48E0CF3-8C75-4A7B-8C94-20CAFF4FE201","type":"ShowBlock","disabled":false,"name":"output53","displayName":"Output 53","comment":"Creating managed space (Transform)","childId":"25D4E8F1-347B-4F6C-A427-7A6DBCF353EB","inputs":[{"id":"input","value":"| Spaces | Using same space for E&T! `Extract & Transform {$.inputs.'System name'} PROD`... |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":240,"y":11760},{"id":"25D4E8F1-347B-4F6C-A427-7A6DBCF353EB","type":"ShowBlock","disabled":false,"name":"output54","displayName":"Output 54","comment":"Space created.","childId":"0F232A7A-5786-448E-9497-D49CDAB40014","inputs":[{"id":"input","value":"| Spaces | Using same... |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":240,"y":11880},{"id":"0F232A7A-5786-448E-9497-D49CDAB40014","type":"VariableBlock","disabled":false,"name":"vManagedTransformSpaceID","displayName":"Variable - vManagedTransformSpaceID","comment":"","childId":null,"inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":240,"y":12000,"variableGuid":"3DA66F7A-F8E4-44D3-A16F-8DB0E63EF87A","operations":[{"id":"set_value","key":"A76B4003-2EA0-4255-9C26-1946F5E1CFBD","name":"Set value of { variable }","value":"{ $.vManagedExtractSpaceID }"}]},{"id":"506502A7-2616-45E8-A95F-A3B9C7EAE3F5","type":"ShowBlock","disabled":false,"name":"output55","displayName":"Output 55","comment":"Log headers","childId":null,"inputs":[{"id":"input","value":"| Create Shared Space   | `{ $.inputs4.'Backup Space' }`          |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","displayValue":"Add this output to the list of all outputs","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":120,"y":2000},{"id":"BEF475CD-19FD-4F1E-A369-1D706996B340","type":"IfElseBlock","disabled":false,"name":"condition19","displayName":"Condition 19","comment":"","childId":"C3A01FF3-1DBC-48DC-8063-B1FA2113BF42","inputs":[{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"{ $.SpaceType }","input2":"New","operator":"="}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"both","isCollapsed":false},{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":true}],"x":0,"y":1920,"childTrueId":"506502A7-2616-45E8-A95F-A3B9C7EAE3F5","childFalseId":null},{"id":"0785EC3E-78A6-41F7-9BFA-E6C607E1CCF3","type":"IfElseBlock","disabled":false,"name":"condition20","displayName":"Condition 20","comment":"","childId":"C294DFAC-A9AC-402F-B6C9-52543CB17D49","inputs":[{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"{ $.inputs.'What type of Architecture?' }","input2":"Extract + Transform (separate managed space)","operator":"="}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"both","isCollapsed":false},{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":false}],"x":120,"y":17520,"childTrueId":"3610D0E1-DEF1-4031-812D-2610C933453A","childFalseId":"E93CDABD-2253-4380-9E0F-8D1A69C62DD6"},{"id":"E93CDABD-2253-4380-9E0F-8D1A69C62DD6","type":"VariableBlock","disabled":false,"name":"vReloadSpaces","displayName":"Variable - vReloadSpaces","comment":"","childId":null,"inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":240,"y":17760,"variableGuid":"8DCE0444-A76B-4D9D-9163-E735F7BCB9EF","operations":[{"id":"set_value","key":"FFC8ABDB-0C7E-4102-8A6B-87C6863E8DC2","name":"Set value of { variable }","value":"{$.vManagedExtractSpaceID}"}]},{"id":"C05B46E0-6A96-4BED-A326-3BE90ED6072E","type":"FilterListBlock","disabled":false,"name":"filterList8","displayName":"Filter over Qlik Cloud Services - List Spaces - Filter List 8","comment":"Filter down to see if space name already exists.","childId":"BC18815A-7A07-4544-85BA-0EFB0F8855FE","inputs":[{"id":"list","value":"{ $.listSpaces }","type":"string","structure":[]},{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"name","input2":"{$.inputs.'System ID prefix (1st digit)'}.3\n.1 Load {$.inputs.'System name'} TEST","operator":"="}]},"type":"custom","structure":[]}],"settings":[{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":true}],"x":120,"y":12160,"loopBlockId":null},{"id":"BC18815A-7A07-4544-85BA-0EFB0F8855FE","type":"IfElseBlock","disabled":false,"name":"condition21","displayName":"Condition 21","comment":"","childId":"755B15AE-AA34-49DD-8C1F-BE6420A115E3","inputs":[{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"{ $.filterList8 }","input2":null,"operator":"empty"}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"both","isCollapsed":false},{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":false}],"x":120,"y":12280,"childTrueId":"85D5C292-F821-47F1-AF5D-9AD7E8A1385D","childFalseId":"B5245214-E84F-42ED-B9B6-A8859EBAFAAB"},{"id":"85D5C292-F821-47F1-AF5D-9AD7E8A1385D","type":"ShowBlock","disabled":false,"name":"output56","displayName":"Output 56","comment":"Creating managed space (Transform)","childId":"70D7B743-3599-4C16-BA91-3700F8A71EC0","inputs":[{"id":"input","value":"| Spaces | Creating new managed space named `{$.inputs.'System ID prefix (1st digit)'}.3.1 Load {$.inputs.'System name'} TEST`... |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":240,"y":12360},{"id":"70D7B743-3599-4C16-BA91-3700F8A71EC0","type":"EndpointBlock","disabled":false,"name":"createSpace8","displayName":"Qlik Cloud Services - Create Space 8","comment":"","childId":"A781228A-6E65-4161-80C7-4A155B68CD54","inputs":[{"id":"f0de69a0-6d24-11eb-8c07-ebadb5af2511","value":"{$.inputs.'System ID prefix (1st digit)'}.3.1 Load {$.inputs.'System name'} TEST","type":"string","structure":[]},{"id":"79771850-6d25-11eb-8021-177e65e81ac9","value":"80775910-6d25-11eb-814f-cfc59c3c1cd1","type":"select","displayValue":"shared","structure":[]},{"id":"f0ecac30-6d24-11eb-a7b6-d15be2d36858","value":"Shared Load space for {$.inputs.'System name'}","type":"string","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":240,"y":12480,"datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","endpoint_guid":"f0c14620-6d24-11eb-aa67-c519e2671d3d","endpoint_role":"create"},{"id":"A781228A-6E65-4161-80C7-4A155B68CD54","type":"SleepBlock","disabled":false,"name":"sleep12","displayName":"Sleep 12","comment":"","childId":"20B8C7EC-1597-4472-837A-43E92DC949DF","inputs":[{"id":"time","value":"1","type":"string","structure":[]}],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":240,"y":12600},{"id":"20B8C7EC-1597-4472-837A-43E92DC949DF","type":"ShowBlock","disabled":false,"name":"output57","displayName":"Output 57","comment":"Space created.","childId":"49B676D8-CF0C-40B4-A9AE-365956687008","inputs":[{"id":"input","value":"| Spaces | Space created. |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":240,"y":12720},{"id":"49B676D8-CF0C-40B4-A9AE-365956687008","type":"VariableBlock","disabled":false,"name":"vManagedTransformSpaceID#2","displayName":"Variable - vManagedTransformSpaceID#2","comment":"","childId":null,"inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":240,"y":12840,"variableGuid":"6E3D656F-1964-4079-9753-B88A0158B066","operations":[{"id":"set_value","key":"A76B4003-2EA0-4255-9C26-1946F5E1CFBD","name":"Set value of { variable }","value":"{ $.createSpace8.id }"}]},{"id":"B5245214-E84F-42ED-B9B6-A8859EBAFAAB","type":"ShowBlock","disabled":false,"name":"output58","displayName":"Output 58","comment":"Creating managed space (Transform)","childId":"16825352-08FE-496F-A491-A05147F4C758","inputs":[{"id":"input","value":"| Spaces | Space already exsists! `{$.inputs.'System ID prefix (1st digit)'}.3.1 Load {$.inputs.'System name'} TEST`... |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":240,"y":13000},{"id":"16825352-08FE-496F-A491-A05147F4C758","type":"ShowBlock","disabled":false,"name":"output59","displayName":"Output 59","comment":"Space created.","childId":"4E462929-F2D1-4AF5-8481-62851F7BAC91","inputs":[{"id":"input","value":"| Spaces | Using old one... |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":240,"y":13120},{"id":"4E462929-F2D1-4AF5-8481-62851F7BAC91","type":"VariableBlock","disabled":false,"name":"vManagedTransformSpaceID#3","displayName":"Variable - vManagedTransformSpaceID#3","comment":"","childId":null,"inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":240,"y":13240,"variableGuid":"6E3D656F-1964-4079-9753-B88A0158B066","operations":[{"id":"set_value","key":"A76B4003-2EA0-4255-9C26-1946F5E1CFBD","name":"Set value of { variable }","value":"{ $.filterList8[0].id }"}]},{"id":"F6B1F4CF-AB2B-4F5B-B6B1-E5A46575F674","type":"ShowBlock","disabled":false,"name":"output60","displayName":"Output 60","comment":"Extracting Application","childId":"D1E37DB6-3D40-4E94-8EFB-692ED828B2D3","inputs":[{"id":"input","value":"| Application | Importing application template (Load) .. |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":120,"y":18040},{"id":"D1E37DB6-3D40-4E94-8EFB-692ED828B2D3","type":"CallUrlBlock","disabled":false,"name":"callURL6","displayName":"Call URL 6","comment":"Get Load application\n","childId":"46AF4843-E351-43C8-A56B-C1A01D9EA07A","inputs":[{"id":"url","value":"https://raw.githubusercontent.com/KarlRikardLarsson/QlikAutomations/refs/heads/main/DataFramework/Load","type":"string","structure":[]},{"id":"method","value":"GET","type":"select","structure":[]},{"id":"timeout","value":"","type":"string","structure":[]},{"id":"params","value":[],"type":"object","mode":"keyValue","structure":[]},{"id":"headers","value":[],"type":"object","mode":"keyValue","structure":[]},{"id":"encoding","value":"","type":"string","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"full_response","value":null,"type":"checkbox","structure":[]},{"id":"capitalize_headers","value":true,"type":"checkbox","structure":[]},{"id":"automations_censor_data","value":true,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":120,"y":18160},{"id":"46AF4843-E351-43C8-A56B-C1A01D9EA07A","type":"EndpointBlock","disabled":false,"name":"importAppFromBase64EncodedFile3","displayName":"Qlik Cloud Services - Import App From Base 64 Encoded File 3","comment":"","childId":"566953A2-8F8F-4143-85CF-798751DFBDCD","inputs":[{"id":"09b520a0-7aa4-11eb-8143-cde65e595ead","value":"{ $.callURL6 }","type":"string","structure":[]},{"id":"19661000-67b1-11eb-b4c6-fb30d89c586f","value":"Load {$.inputs.'System name'}","type":"string","structure":[]},{"id":"197675a0-67b1-11eb-b6f6-9ff3bc51ddbf","value":"{ $.vSharedLoadSpaceID }","type":"string","structure":[]},{"id":"4d3a3300-67b1-11eb-99af-3d55175faa9a","value":null,"type":"select","structure":[]},{"id":"ac4b58f0-67b1-11eb-8126-89d0cf328adb","value":null,"type":"string","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":120,"y":18280,"datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","endpoint_guid":"194b9430-67b1-11eb-9e04-6dbde84bea83","endpoint_role":"create"},{"id":"566953A2-8F8F-4143-85CF-798751DFBDCD","type":"ShowBlock","disabled":false,"name":"output61","displayName":"Output 61","comment":"Application imported","childId":"E15EDDBD-9C16-4BE5-A024-92E4C46F137C","inputs":[{"id":"input","value":"| Application | Application imported. |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":120,"y":18400},{"id":"E15EDDBD-9C16-4BE5-A024-92E4C46F137C","type":"ShowBlock","disabled":false,"name":"output62","displayName":"Output 62","comment":"Application imported","childId":"3C878E6E-007E-44A6-BBC6-2B3612AC13F5","inputs":[{"id":"input","value":"| Application | Editing script |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":120,"y":18520},{"id":"3C878E6E-007E-44A6-BBC6-2B3612AC13F5","type":"SnippetBlock","disabled":false,"name":"GetLoadScript3","displayName":"Qlik Cloud Services - Get Load Script 3","comment":"Get the load script.","childId":"6B78FB79-936A-4F51-B3DF-E59F45E20C73","inputs":[{"id":"299dd6e0-7535-11eb-a1b1-8108a69d86b2","value":"{$.importAppFromBase64EncodedFile3.attributes.id}","type":"string","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":120,"y":18640,"datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","snippet_guid":"8d2f7da0-5028-11eb-8889-317a6c8ea7fc"},{"id":"6B78FB79-936A-4F51-B3DF-E59F45E20C73","type":"SleepBlock","disabled":false,"name":"sleep13","displayName":"Sleep 13","comment":"","childId":"35F42841-C4F7-4FAA-8927-EFFDC08F4E19","inputs":[{"id":"time","value":"1","type":"string","structure":[]}],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":120,"y":18760},{"id":"35F42841-C4F7-4FAA-8927-EFFDC08F4E19","type":"EndpointBlock","disabled":false,"name":"setLoadScript3","displayName":"Qlik Cloud Services - Set Load Script 3","comment":"Modify vu_rest_connection to point to the managed space.","childId":"A591988D-5D5C-431B-B753-33ADE58DE718","inputs":[{"id":"917b8660-a12b-11ed-873f-fd156b9f0ebb","value":"{$.importAppFromBase64EncodedFile3.attributes.id}","type":"string","structure":[]},{"id":"d31e0400-a12c-11ed-b43b-29c58fb1f869","value":"{ replace: {replace: {$.GetLoadScript3.qScript}, ':DataFiles', 'D.{ $.inputs.'System ID prefix (1st digit)' } { $.inputs.'System name' }:DataFiles'}, 111, $.createScript2.attributes.id }","type":"string","structure":[]},{"id":"0da08560-a12d-11ed-92bf-6146d9e01e80","value":null,"type":"string","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":120,"y":18880,"datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","endpoint_guid":"916661a0-a12b-11ed-882f-fb01a4e99b0a","endpoint_role":"create"},{"id":"A591988D-5D5C-431B-B753-33ADE58DE718","type":"ShowBlock","disabled":false,"name":"output63","displayName":"Output 63","comment":"Application imported","childId":"6B133D7C-C4B4-4029-A462-C1211DE4E37C","inputs":[{"id":"input","value":"| Application | Script edited, path is now 'D.{$.inputs.'System ID prefix (1st digit)'} {$.inputs.'System name'}:DataFiles'  |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":120,"y":19000},{"id":"6B133D7C-C4B4-4029-A462-C1211DE4E37C","type":"SleepBlock","disabled":false,"name":"sleep14","displayName":"Sleep 14","comment":"","childId":"3A4941E1-B9A4-40EB-9BF3-3A4634B58263","inputs":[{"id":"time","value":"1","type":"string","structure":[]}],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":120,"y":19120},{"id":"5E463DF9-A5B2-43F3-88C1-967076A20887","type":"FilterListBlock","disabled":false,"name":"filterList9","displayName":"Filter over Qlik Cloud Services - List Spaces - Filter List 9","comment":"Filter down to see if space name already exists.","childId":"27DA676F-1799-4748-9547-9BC0DC034FC4","inputs":[{"id":"list","value":"{ $.listSpaces }","type":"string","structure":[]},{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"name","operator":"=","input2":"98. Script Library"}]},"type":"custom","structure":[]}],"settings":[{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":true}],"x":0,"y":2760,"loopBlockId":null},{"id":"27DA676F-1799-4748-9547-9BC0DC034FC4","type":"IfElseBlock","disabled":false,"name":"condition22","displayName":"Condition 22","comment":"","childId":"C260E18E-4302-469B-BC74-2D320870427A","inputs":[{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"{ $.filterList9 }","operator":"empty","input2":null}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"both","isCollapsed":false},{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":false}],"x":0,"y":2880,"childTrueId":"C32F8C77-EB9C-4642-A420-50470D8B1C55","childFalseId":"D73B8EF5-964D-4546-931F-11B77F43CB4C"},{"id":"C32F8C77-EB9C-4642-A420-50470D8B1C55","type":"ShowBlock","disabled":false,"name":"output10","displayName":"Output 10","comment":"Creating managed space (Extact)","childId":"1CB64835-F1DB-4719-A290-B67EE5072B06","inputs":[{"id":"input","value":"| Spaces | Creating new managed space named `98. Script Library`... |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":120,"y":2960},{"id":"1CB64835-F1DB-4719-A290-B67EE5072B06","type":"EndpointBlock","disabled":false,"name":"createSpace9","displayName":"Qlik Cloud Services - Create Space 9","comment":"","childId":"D940770A-D0C3-473E-A70B-74121C42E389","inputs":[{"id":"f0de69a0-6d24-11eb-8c07-ebadb5af2511","value":"98. Script Library","type":"string","structure":[]},{"id":"79771850-6d25-11eb-8021-177e65e81ac9","value":"80775910-6d25-11eb-814f-cfc59c3c1cd1","type":"select","displayValue":"shared","structure":[]},{"id":"f0ecac30-6d24-11eb-a7b6-d15be2d36858","value":"Shared script library - reusable QVS and code snippets","type":"string","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":120,"y":3080,"datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","endpoint_guid":"f0c14620-6d24-11eb-aa67-c519e2671d3d","endpoint_role":"create"},{"id":"D940770A-D0C3-473E-A70B-74121C42E389","type":"SleepBlock","disabled":false,"name":"sleep8","displayName":"Sleep 8","comment":"","childId":"83E114AC-6094-483A-9F48-7D58FC04ED29","inputs":[{"id":"time","value":"1","type":"string","structure":[]}],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":120,"y":3200},{"id":"83E114AC-6094-483A-9F48-7D58FC04ED29","type":"ShowBlock","disabled":false,"name":"output64","displayName":"Output 64","comment":"Space created.","childId":"034EB676-34C5-4E24-B067-7D7E47C27E44","inputs":[{"id":"input","value":"| Spaces | Space created. |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":120,"y":3320},{"id":"034EB676-34C5-4E24-B067-7D7E47C27E44","type":"VariableBlock","disabled":false,"name":"vScriptSpaceID","displayName":"Variable - vScriptSpaceID","comment":"","childId":null,"inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":120,"y":3440,"variableGuid":"194D96F0-8886-4689-8DE1-FBB373117B55","operations":[{"id":"set_value","key":"A76B4003-2EA0-4255-9C26-1946F5E1CFBD","name":"Set value of { variable }","value":"{ $.createSpace9.id }"}]},{"id":"D73B8EF5-964D-4546-931F-11B77F43CB4C","type":"ShowBlock","disabled":false,"name":"output65","displayName":"Output 65","comment":"Creating managed space (Extact)","childId":"378A07F2-00FD-43A3-A02E-92B2C0B85B82","inputs":[{"id":"input","value":"| Spaces | Space already exists! `98. Script Library`... |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":120,"y":3600},{"id":"378A07F2-00FD-43A3-A02E-92B2C0B85B82","type":"ShowBlock","disabled":false,"name":"output66","displayName":"Output 66","comment":"Creating shared space (Extact)","childId":"B15D1542-4DA3-4CBF-A164-5FA0BB403322","inputs":[{"id":"input","value":"| Spaces | Using old one... |","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":120,"y":3720},{"id":"B15D1542-4DA3-4CBF-A164-5FA0BB403322","type":"VariableBlock","disabled":false,"name":"vScriptSpaceID#2","displayName":"Variable - vScriptSpaceID 2","comment":"","childId":null,"inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":120,"y":3840,"variableGuid":"194D96F0-8886-4689-8DE1-FBB373117B55","operations":[{"id":"set_value","key":"A76B4003-2EA0-4255-9C26-1946F5E1CFBD","name":"Set value of { variable }","value":"{ $.filterList9[0].id }"}]},{"id":"C260E18E-4302-469B-BC74-2D320870427A","type":"EndpointBlock","disabled":false,"name":"createScript","displayName":"Qlik Cloud Services - Create Script","comment":"Create helper functions","childId":"34DC3035-298E-459F-AB8F-6751D6895180","inputs":[{"id":"bf6c9220-2183-11ee-b0cf-43e41d0e4ec3","value":"Helper Functions","type":"string","structure":{}},{"id":"bf7495c0-2183-11ee-af5a-57322e2df8f1","value":"Helper Functions - Useful code snippets for common scripts, including timers, stores etc...","type":"string","structure":{}},{"id":"bf7e20a0-2183-11ee-a38e-896e00493cf7","value":"{ $.vScriptSpaceID }","type":"string","structure":{}}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":{}},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":{}}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":0,"y":4000,"datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","endpoint_guid":"bf519390-2183-11ee-868f-a9fae1bb1a0c","endpoint_role":"create"},{"id":"34DC3035-298E-459F-AB8F-6751D6895180","type":"EndpointBlock","disabled":false,"name":"setLoadScript4","displayName":"Qlik Cloud Services - Set Load Script 4","comment":"","childId":"D331A123-210D-4394-8FBA-1D32A8EED458","inputs":[{"id":"917b8660-a12b-11ed-873f-fd156b9f0ebb","value":"{ $.createScript.attributes.id }","type":"string","structure":{}},{"id":"d31e0400-a12c-11ed-b43b-29c58fb1f869","value":"///$tab Timer\n/*\n‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\nCall this sub in the beginning and end of every section\nto know how long each section takes to load\nExample:\n    CALL StartTimer('CustomerLoad');\n    // your load code here\n    CALL EndTimer('CustomerLoad');\n‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n*/\t\n// Start time with message\nSUB StartTimer(pTimerName)\n\tTRACE ‚ñ∂Ô∏è $(pTimerName);\n    LET \"vStart_$(pTimerName)\" = now();\nEND Sub\n// End time and calculate exection time\n// End time and calculate exection time\nSUB EndTimer(pTimerName) \n\tLET \"vEnd_$(pTimerName)\" = now(); \n    LET \"vDuration_$(pTimerName)\" = Interval(vEnd_$(pTimerName)-vStart_$(pTimerName),'hh:mm:ss');\n    TRACE ‚è±Ô∏è Execution time ($(pTimerName)): $(vDuration_$(pTimerName));\n    \n    TimerLog: \n    LOAD \n    \t'$(pTimerName)'\t\t\t\tAS Section,\n        '$(vStart_$(pTimerName))'\tAS StartTime,\n        '$(vEnd_$(pTimerName))'\t\tAS EndTime,\n        '$(vDuration_$(pTimerName))' AS Duration\n    AUTOGENERATE 1;\n\t// ------------------------------------------\n    // CLEANUP\n    // ------------------------------------------\n\tDROP VARIABLES vDuration_$(pTimerName),vEnd_$(pTimerName),vStart_$(pTimerName);\n        \nEND SUB \n///$tab Analysis\nSUB Analysis\n/*\n‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\nMetadata - Used in front-end for analysis\n‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n*/\t\n// Initialize an empty table to store the table names and dimension fields (one field per row)\n\nTempTableInfo:\nLOAD \n    '' AS TableName,\n    '' AS DimensionField\nAUTOGENERATE(0);\n\n// Initialize another empty table to store the concatenated dimension fields\nTempTableConcat:\nLOAD\n    '' AS TableName,\n    '' AS DimensionConcat\nAUTOGENERATE(0);\n\n// Loop through all tables in the data model\nFOR i = 0 TO NoOfTables() - 1\n\n    // Get the name of the current table\n    LET vTable = TableName($(i));\n\n    // Initialize a variable to store concatenated dimensions\n    LET vDimensionConcat = '';\n\n    // Get the list of fields in the current table\n    FOR j = 1 TO NoOfFields('$(vTable)')\n        LET vField = FieldName($(j), '$(vTable)');\n        \n        // Add each field (dimension) to the concatenation string, separated by '|'\n        LET vDimensionConcat = '$(vDimensionConcat)' & '|' & '$(vField)';\n\n        // Add the table name and field name to the TempTableInfo table\n        TempTableInfo:\n        LOAD\n            '$(vTable)' AS TableName,\n            '$(vField)' AS DimensionField\n        AUTOGENERATE(1);\n\n    NEXT j;\n\n    // Remove the leading '|' from the concatenated string of dimensions\n    LET vDimensionConcat = Mid('$(vDimensionConcat)', 2);\n\n    // Store the table name and the concatenated dimensions in TempTableConcat table\n    TempTableConcat:\n    LOAD\n        '$(vTable)' AS TableName,\n        '$(vDimensionConcat)' AS DimensionConcat\n    AUTOGENERATE(1);\nNEXT i;\n\n// Create variables for dynamic report\n// Maximum number of columns to show\nLET MaxShowColumns = 55;\n\n// Set DimensionField variable using GetFieldSelections with '|' as the delimiter\nSet DimensionField = SubField(GetFieldSelections(DimensionField, '|', $(MaxShowColumns)), '|', $1);\n\n// Set QuickTable variable to hold the concatenated dimensions for easy access\nSet QuickTable = SubField(DimensionConcat, '|', $1);\n\nSet TableSelected = GetFieldSelections(TableName);\n// Variable for show condtion in \"Analysis\" sheet.\n\nLET vShowChart ='Standard Tabell';\n\nDROP VARIABLES vField,vTable,vDimensionConcat;\n\nEnd sub\n///$tab Store\nSUB Store_QVD(pTable, pPrefix)\n\n    // ------------------------------------------\n    // PARAMETER ‚Üí LOCAL VARIABLES\n    // ------------------------------------------\n    LET vStore_Table    = '$(pTable)';\n    LET vStore_Prefix   = Trim('$(pPrefix)'); // e.g. DIM, FACT, TRANS\n    // ------------------------------------------\n    // BUILD QVD FILE NAME (WITH OPTIONAL PREFIX)\n    // ------------------------------------------\n    // Base name = table name\n    LET vStore_BaseName = '$(vStore_Table)';\n\n    // If prefix provided, build PREFIX_TableName\n    IF Len('$(vStore_Prefix)') > 0 THEN\n        LET vStore_BaseName = '$(vStore_Prefix)' & '_' & '$(vStore_Table)';\n    ENDIF\n\n    // Use your existing helper to resolve full path\n    // Adjust this line to match how vOutputQVDName is defined in your env\n    LET qvd_name = '$(vOutputQVDName($(vStore_BaseName)))';\n\n    // ------------------------------------------\n    // STORE + DROP\n    // ------------------------------------------\n    TRACE üì¶ Storing QVD: $(qvd_name);\n    STORE [$(vStore_Table)] INTO [$(qvd_name)] (qvd);\n\n    TRACE Stored: $(qvd_name);\n    TRACE Dropping table: $(vStore_Table);\n    DROP TABLE [$(vStore_Table)];\n    // ------------------------------------------\n    // LOG QVD DETAILS\n    // ------------------------------------------\n\n    QVD:\n    LOAD \n        '$(vStore_Table)'          AS Table,          // original table name\n        '$(vStore_BaseName)'       AS QVDName,        // logical QVD name (with prefix)\n        FileSize('$(qvd_name)')    AS FileSize,\n        FileTime('$(qvd_name)')    AS FileTime,\n        QvdNoOfFields('$(qvd_name)')  AS Fields,\n        QvdNoOfRecords('$(qvd_name)') AS Records\n    AUTOGENERATE 1;\n\n    // ------------------------------------------\n    // CLEANUP\n    // ------------------------------------------\n\tDROP VARIABLES vStore_Table,vStore_Prefix,vStore_BaseName,qvd_name;\n\nEND SUB\n///$tab LogInfo\n// ============================================================================\n// LOGGING HELPERS\n// ============================================================================\n\nSUB LogInfo(message)\n    TRACE ‚ÑπÔ∏è  $(message);\nEND SUB\nSUB LogWarning(message)\n    TRACE ‚ö†Ô∏è  $(message);\nEND SUB\nSUB LogError(message)\n    TRACE ‚ùå $(message);\nEND SUB\nSUB LogSuccess(message)\n    TRACE ‚úÖ $(message);\nEND SUB","type":"string","structure":{}},{"id":"0da08560-a12d-11ed-92bf-6146d9e01e80","value":null,"type":"string","structure":{}}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":{}},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":{}}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":0,"y":4120,"datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","endpoint_guid":"916661a0-a12b-11ed-882f-fb01a4e99b0a","endpoint_role":"create"},{"id":"D331A123-210D-4394-8FBA-1D32A8EED458","type":"SnippetBlock","disabled":false,"name":"saveApp","displayName":"Qlik Cloud Services - Save App","comment":"","childId":"F7CBD85C-614A-47D3-B8E9-5EE93CF1437F","inputs":[{"id":"e4c96750-018f-11ec-9324-452b72262f88","value":"{ $.createScript.attributes.id }","type":"string","structure":{}}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":{}},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":{}}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":0,"y":4240,"datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","snippet_guid":"e4c44ca0-018f-11ec-9e3c-1d9f5d508976"},{"id":"F7CBD85C-614A-47D3-B8E9-5EE93CF1437F","type":"SleepBlock","disabled":false,"name":"sleep9","displayName":"Sleep 9","comment":"","childId":"1F45F5ED-FD7A-4A26-A8DF-A7FE348E0276","inputs":[{"id":"time","value":"1","type":"string","structure":{}}],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":0,"y":4360},{"id":"1F45F5ED-FD7A-4A26-A8DF-A7FE348E0276","type":"EndpointBlock","disabled":false,"name":"createScript2","displayName":"Qlik Cloud Services - Create Script 2","comment":"Create calendar gen","childId":"BFA57282-80F1-4254-A03D-B046CFDE35DF","inputs":[{"id":"bf6c9220-2183-11ee-b0cf-43e41d0e4ec3","value":"Calendar","type":"string","structure":{}},{"id":"bf7495c0-2183-11ee-af5a-57322e2df8f1","value":"Used to generate master calendar","type":"string","structure":{}},{"id":"bf7e20a0-2183-11ee-a38e-896e00493cf7","value":"{ $.vScriptSpaceID }","type":"string","structure":{}}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":{}},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":{}}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":0,"y":4480,"datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","endpoint_guid":"bf519390-2183-11ee-868f-a9fae1bb1a0c","endpoint_role":"create"},{"id":"BFA57282-80F1-4254-A03D-B046CFDE35DF","type":"EndpointBlock","disabled":false,"name":"setLoadScript5","displayName":"Qlik Cloud Services - Set Load Script 5","comment":"","childId":"0D020495-956D-4694-BC2C-283DBC5C124F","inputs":[{"id":"917b8660-a12b-11ed-873f-fd156b9f0ebb","value":"{ $.createScript2.attributes.id }","type":"string","structure":{}},{"id":"d31e0400-a12c-11ed-b43b-29c58fb1f869","value":"///$tab Calendar\nSUB CalendarGen(pDateField, pCalendarName, pFiscalMonthsLeft)\n\n    // ------------------------------------------\n    // PARAMETER MAPPING\n    // ------------------------------------------\n    LET vCal_DateField     = '$(pDateField)';\n    LET vCal_TableName     = if('$(pCalendarName)' = '', 'Calendar', '$(pCalendarName)');\n    LET vCal_FiscalOffset  = $(pFiscalMonthsLeft);\n    LET vCal_Today         = Num(Today()); // numeric today value\n\n    // ------------------------------------------\n    // FIND MIN/MAX FROM THE PASSED DATE FIELD\n    // ------------------------------------------\n    Calendar_MinMax:\n    LOAD\n        Num(Min(_DateScan)) AS MinDate,\n        Num(Max(_DateScan)) AS MaxDate\n    ;\n    LOAD \n        FieldValue('$(vCal_DateField)', IterNo()) AS _DateScan\n    AUTOGENERATE 1\n    WHILE NOT IsNull(FieldValue('$(vCal_DateField)', IterNo()));\n\n    LET vCal_MinDate = Peek('MinDate', 0, 'Calendar_MinMax');\n    LET vCal_MaxDate = Peek('MaxDate', 0, 'Calendar_MinMax');\n\n    DROP TABLE Calendar_MinMax;\n\n    IF Len('$(vCal_MinDate)') = 0 OR Len('$(vCal_MaxDate)') = 0 THEN\n        TRACE 'CalendarGen: No valid min/max dates found. Is $(vCal_DateField) a proper date field?';\n        EXIT SUB;\n    ENDIF\n    \n    CalendargenQuarterMap:\n\tMAPPING LOAD * INLINE [\n\t    Month, Quarter\n\t    1, Q1\n\t    2, Q1\n\t    3, Q1\n\t    4, Q2\n\t    5, Q2\n\t    6, Q2\n\t    7, Q3\n\t    8, Q3\n\t    9, Q3\n\t    10, Q4\n\t    11, Q4\n\t    12, Q4\n\t];\n\t\n    // ------------------------------------------\n    // GENERATE BASE CALENDAR\n    // ------------------------------------------\n    [$(vCal_TableName)]:\n    LOAD*,\n        Date($(vCal_MinDate) + RecNo() - 1) AS Date,\n        \n        Week([$(vCal_DateField)]) AS [Week],\n\t\tYear([$(vCal_DateField)]) AS [Year],\n\t\tMonth([$(vCal_DateField)]) AS [Month],\n\t\n\t\tDay([$(vCal_DateField)]) AS [Day],\n        DayNumberOfYear([$(vCal_DateField)]) AS DayOfYear,\n\t\tWeekDay([$(vCal_DateField)]) AS [WeekDay],\n\t\tapplyMap('CalendargenQuarterMap', num(month([$(vCal_DateField)])),null()) AS [Quarter],\n\t\tDate(monthStart([$(vCal_DateField)]), 'MM-YYYY') AS [MonthYear],\n\t\tdual(applyMap('CalendargenQuarterMap', num(month([$(vCal_DateField)])),null())\n\t\t\t& '-' & Year([$(vCal_DateField)]),QuarterStart([$(vCal_DateField)])) AS [QuarterYear],\n\t\tdual(Week([$(vCal_DateField)]) & '-' & WeekYear([$(vCal_DateField)]),WeekStart([$(vCal_DateField)])) AS [WeekYear],\n    \n        IF(Year2Date($(vCal_DateField), 0, 1, $(vCal_Today)), 1, 0) AS [YTD Flag],\n        IF(Year2Date($(vCal_DateField), -1, 1, $(vCal_Today)), 1, 0) AS [PYTD Flag],\n        IF(Month($(vCal_DateField)) = Month($(vCal_Today)), 1, 0) AS [CurrentMonth Flag],\n        IF(Month(AddMonths($(vCal_DateField),1)) = Month($(vCal_Today)), 1, 0) AS [LastMonth Flag],\n \n       // Relative time comparisons\n       Year(Today()) - Year($(vCal_DateField)) AS YearsAgo,\n       4 * Year(Today()) + Ceil(Month(Today()) / 3) - 4 * Year($(vCal_DateField)) - Ceil(Month($(vCal_DateField)) / 3) AS QuartersAgo,\n       12 * Year(Today()) + Month(Today()) - 12 * Year($(vCal_DateField)) - Month($(vCal_DateField)) AS MonthsAgo,\n       If(WeekDay($(vCal_DateField))<=WeekDay(Today()),1,0) AS [InWTD],(WeekStart(Today())-WeekStart($(vCal_DateField)))/7 AS [WeeksAgo] ;\n    LOAD\n\t   Date($(vCal_MinDate) + RecNo() - 1) AS [$(vCal_DateField)]\n    AUTOGENERATE ($(vCal_MaxDate) - $(vCal_MinDate) + 1);\n    // ------------------------------------------\n    // OPTIONAL: FISCAL CALENDAR\n    // ------------------------------------------\n    IF '$(vCal_FiscalOffset)' <> '' THEN\n        // Determine fiscal year start month\n        IF $(vCal_FiscalOffset) < 0 THEN\n            LET vCal_FiscalStartMonth = 13 - ($(vCal_FiscalOffset) + 12);\n        ELSE\n            LET vCal_FiscalStartMonth = 13 - $(vCal_FiscalOffset);\n        ENDIF\n        LEFT JOIN ([$(vCal_TableName)])\n        LOAD \n            Date,\n            Year(AddMonths(Date, $(vCal_FiscalOffset))) AS [Fiscal Year],\n            Dual(Month(Date), Num(Month(AddMonths(Date, $(vCal_FiscalOffset))))) AS [Fiscal Month],\n            'Q' & Ceil(Month(AddMonths(Date, $(vCal_FiscalOffset))) / 3) AS [Fiscal Quarter],\n            Date(MonthStart(AddMonths(Date, $(vCal_FiscalOffset))), 'MM-YYYY') AS [Fiscal MonthYear],\n            Dual(\n                'Q' & Ceil(Month(AddMonths(Date, $(vCal_FiscalOffset))) / 3)\n                & '-' &\n                Year(AddMonths(Date, $(vCal_FiscalOffset))),\n                QuarterStart(AddMonths(Date, $(vCal_FiscalOffset)))\n            ) AS [Fiscal QuarterYear],\n            IF(YearToDate(Date, 0, $(vCal_FiscalStartMonth), $(vCal_Today)), 1, 0) AS [Fiscal YTD Flag],\n            IF(YearToDate(Date, -1, $(vCal_FiscalStartMonth), $(vCal_Today)), 1, 0) AS [Fiscal PYTD Flag]\n        RESIDENT [$(vCal_TableName)];\n    ENDIF\n    // ------------------------------------------\n    // DERIVED CALENDAR FIELDS\n    // ------------------------------------------\n    CalendarDerived:\n        DECLARE FIELD DEFINITION Tagged ('$date')\n        FIELDS\n            Dual(Year($1), YearStart($1)) AS Year Tagged ('$axis', '$year'),\n            Dual('Q' & Ceil(Month($1)/3), Ceil(Month($1)/3)) AS Quarter Tagged ('$axis', '$quarter'),\n            Dual(Year($1) & '-Q' & Ceil(Month($1)/3), QuarterStart($1)) AS YearQuarter Tagged ('$axis', '$yearquarter'),\n            Dual(Year($1), WeekStart($1)) & '-' & Num(Week($1), 00) AS YearWeek Tagged ('$axis', '$yearweek'),\n            Month($1) AS Month Tagged ('$axis', '$month'),\n            Dual(Year($1) & '-' & Month($1), MonthStart($1)) AS YearMonth Tagged ('$axis', '$yearmonth'),\n            Dual('W' & Num(Week($1),00), Num(Week($1),00)) AS Week Tagged ('$axis', '$weeknumber'),\n            Day($1) AS Day Tagged ('$axis', '$day'),\n            Weekday($1) AS Weekday Tagged ('$axis', '$weekday')\n        ;\n    Derive Fields from Fields Date Using CalendarDerived;\n    // ------------------------------------------\n    // CLEANUP\n    // ------------------------------------------\n    Autonumber '$(vCal_DateField)';\n    DROP VARIABLES vCal_DateField,vCal_TableName,vCal_FiscalOffset,vCal_Today,vCal_MinDate,vCal_MaxDate,vCal_FiscalStartMonth;\n    \nEND SUB","type":"string","structure":{}},{"id":"0da08560-a12d-11ed-92bf-6146d9e01e80","value":"","type":"string","structure":{}}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":{}},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":{}}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":0,"y":4600,"datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","endpoint_guid":"916661a0-a12b-11ed-882f-fb01a4e99b0a","endpoint_role":"create"},{"id":"0D020495-956D-4694-BC2C-283DBC5C124F","type":"SnippetBlock","disabled":false,"name":"saveApp2","displayName":"Qlik Cloud Services - Save App 2","comment":"","childId":"05658944-F32A-4E32-80F9-D02C81828339","inputs":[{"id":"e4c96750-018f-11ec-9324-452b72262f88","value":"{ $.createScript2.attributes.id }","type":"string","structure":{}}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":{}},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":{}}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":0,"y":4720,"datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","snippet_guid":"e4c44ca0-018f-11ec-9e3c-1d9f5d508976"},{"id":"05658944-F32A-4E32-80F9-D02C81828339","type":"SleepBlock","disabled":false,"name":"sleep15","displayName":"Sleep 15","comment":"","childId":"A5F64DAA-66FE-4AE2-BCE7-5829496E5EDE","inputs":[{"id":"time","value":"1","type":"string","structure":{}}],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":0,"y":4840}],"variables":[{"guid":"1CAA1C45-96FD-4C73-B79F-D7AEF8BC54BB","name":"professionalEntitlementsAvailable","type":"number"},{"guid":"0DEDC3BA-20F1-491C-8010-5A2CC6DD3B01","name":"currentTemplateVersionNum","type":"number"},{"guid":"A485E367-F4D1-4F6F-A7B8-EAE114C272BE","name":"noSharedOrManagedSpaces","type":"number"},{"guid":"4DFFF7CD-C8EB-41EA-9A04-06085211682E","name":"BackUpSpace","type":"string"},{"guid":"098B7A0E-54A7-4730-8C64-FD5CA9BB50BF","name":"SpaceType","type":"string"},{"guid":"8DCE0444-A76B-4D9D-9163-E735F7BCB9EF","name":"vReloadSpaces","type":"string"},{"guid":"2B11FB22-79DF-4702-9AF5-FFFD2A38AD2B","name":"vReloadApps","type":"string"},{"guid":"72574781-E7B9-49DB-A343-13841D4D8EDA","name":"vManagedExtractSpaceID","type":"string"},{"guid":"3DA66F7A-F8E4-44D3-A16F-8DB0E63EF87A","name":"vManagedTransformSpaceID","type":"string"},{"guid":"6C01CD34-F1F0-41D9-A325-847E96B6512A","name":"vSharedTransformSpaceID","type":"string"},{"guid":"2C9DD5EE-4A01-442F-B558-7EC1FA9E8B38","name":"vSharedExtractSpaceID","type":"string"},{"guid":"6E3D656F-1964-4079-9753-B88A0158B066","name":"vSharedLoadSpaceID","type":"string"},{"guid":"194D96F0-8886-4689-8DE1-FBB373117B55","name":"vScriptSpaceID","type":"string"}]}